<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>胡乱折腾</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="胡乱折腾"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="胡乱折腾"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="胡乱折腾"><meta property="og:url" content="http://tux.red/"><meta property="og:site_name" content="胡乱折腾"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://tux.red/img/og_image.png"><meta property="article:author" content="redtux"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://tux.red/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://tux.red"},"headline":"胡乱折腾","image":["http://tux.red/img/og_image.png"],"author":{"@type":"Person","name":"redtux"},"publisher":{"@type":"Organization","name":"胡乱折腾","logo":{"@type":"ImageObject","url":"http://tux.red/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"><link rel="stylesheet" href="https://fonts.lug.ustc.edu.cn/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="胡乱折腾" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">主页</a><a class="navbar-item" href="/archives">存档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/naviplayer">NaviPlayer</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/tux0529"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-12-05T02:37:33.000Z" title="2024/12/5 10:37:33">2024-12-05</time>发表</span><span class="level-item"><time dateTime="2024-12-11T06:06:46.396Z" title="2024/12/11 14:06:46">2024-12-11</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">1 分钟读完 (大约223个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/12/05/git-help/">Git常用命令</a></h1><div class="content"><h1 id="初次创建仓库并提交代码"><a href="#初次创建仓库并提交代码" class="headerlink" title="初次创建仓库并提交代码"></a>初次创建仓库并提交代码</h1><ol>
<li><p>新建文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;# naviPlayer&quot; &gt;&gt; README.md</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化本地仓库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
</li>
<li><p>记录本地新增文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add README.md</span><br></pre></td></tr></table></figure>
</li>
<li><p>将修改、新增文件提交到本地仓库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;first commit&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建分支 main：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -M main</span><br></pre></td></tr></table></figure>
</li>
<li><p>关联远程仓库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:tux0529/naviPlayer.git</span><br></pre></td></tr></table></figure>
</li>
<li><p>提交本地仓库到原程仓库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Git更新提交到仓库"><a href="#Git更新提交到仓库" class="headerlink" title="Git更新提交到仓库"></a>Git更新提交到仓库</h1><ol>
<li><p>在本地修改相应文件（或者文件新旧替换）</p>
</li>
<li><p>记录新增文件、修改文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add （文件路径）</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看当前本地文件信息，查看是否还有文件未跟踪或是未添加到本地库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
</li>
<li><p>将修改、新增文件提交到本地仓库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;更改信息备注&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>提交代码到当前分支</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure></li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-09-04T01:33:28.000Z" title="2024/9/4 09:33:28">2024-09-04</time>发表</span><span class="level-item"><time dateTime="2024-09-06T06:59:53.757Z" title="2024/9/6 14:59:53">2024-09-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">15 分钟读完 (大约2198个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/09/04/%E4%B8%AD%E5%8C%BB%E6%96%B9%E5%89%82%E6%94%B6%E8%97%8F/">中医方剂收藏</a></h1><div class="content"><h2 id="二陈汤"><a href="#二陈汤" class="headerlink" title="二陈汤"></a>二陈汤</h2><p>二陈汤，中医方剂名。为祛痰剂，具有燥湿化痰，理气和中之功效。主治湿痰证。咳嗽痰多，色白易咯，恶心呕吐，胸膈痞闷，肢体困重，或头眩心悸，舌苔白滑或腻，脉滑。临床常用于治疗慢性支气管炎、慢性胃炎、梅尼埃病、神经性呕吐等属湿痰者。</p>
<p>方剂名：二陈汤<br>方剂组成： 陈皮(或橘红)、制半夏、 茯苓、炙甘草<br>方剂方解：燥湿化痰，理气和中，用于脾虚痰湿阻滞之咳嗽痰多而呈清稀泡沫、胸闷呕恶、头晕心悸、苔白腻、脉滑等症、本方多用于慢性支气管炎、肺气肿之咳嗽痰稀之症。</p>
<p>方剂用法用量：半夏(汤洗七次)、橘红各15g，白茯苓9g，甘草(炙)4.5g。上药㕮咀，每服12g，用水一盏，生姜七片，乌梅一个，同煎六分，去滓，热服，不拘时候。现代用法：加生姜7片，乌梅1个，水煎温服。</p>
<p>方剂附方：杏苏散，即二陈汤加紫苏、杏仁、前胡、桔梗、枳壳、生姜、大枣、功能宣肺止咳化痰、用于外感风寒咳嗽痰多之证<br>温胆汤，即二陈汤加枳实、竹茹、用于痰热内扰虚烦不得眠者导痰汤，即二陈汤加枳实、胆星，用于痰多喘急时发晕厥，头痛眩晕，或咯痰粘稠，坐卧不安者</p>
<p>半夏白术天麻汤，即二陈汤加白术、天麻、用于痰湿中阻，头痛眩晕、恶心呕吐、胸脘痞闷、苔白滑腻脉滑之证。</p>
<p>方剂备注：本方是治疗湿痰的要方。湿痰之成，多因饮食生冷，脾胃不和，运化失健，以致湿聚成痰。方中半夏燥湿化痰，和胃止呕；橘红理气化痰，使气顺则痰降。气行则痰化；痰由湿生，故以茯苓健脾渗湿；甘草和中益脾。煎加生姜，既制半夏之毒，又协同半夏、橘红和胃祛痰止呕；少用鸟梅，味酸收敛，配半夏散中有收，使其不致辛散太过。凡是痰湿为患，均可用本方增损治之。</p>
<p>方剂功能主治：脾胃虚寒，胸腹胀满，呕逆不食，自利不渴，因伤宿食，或吐后噫败脾气。伤寒汗后，脾胃伤冷物，胸膈不快，寻常血气不和；太阴伤寒，手足温，自利不渴，腹满时痛，咽干，脉尺寸俱沉细；饮食伤脾，宿谷不化，朝食暮吐，暮食朝吐，上气复热，四肢冷痹，三焦不调，及胃虚寒气在上，忧气在下，二气并争，但出不入，呕不得食；中寒，饮食不化，吞酸哯啘，食则膨亨，胀满呕逆；脾胃不和，饮食减少，短气虚羸而复呕逆，霍乱吐泻，胸痹心痛，逆气短气，中满虚痞，膈塞不通，或大病愈后，胸中有寒，时加咳唾；霍乱吐泻，泻血不止；脏寒冷气，腹痛肠鸣，下痢青黑；食积，心腹满痛；忧思郁结，脾肺气凝，胀满上冲，饮食不下，腹满痞闷，兼食积者；冷食粘滞。</p>
<p>方剂临床应用：伤寒劳复《本事》：有人患伤寒得汗数日，忽身热自汗，脉弦数，心不得宁，真劳复也。予诊曰：劳心之所致，神之所舍，未复其初，而又劳伤其神，荣卫失度，当补其子，益其脾，解发其劳，庶几得愈。授以本方，佐以小柴胡得解。</p>
<h2 id="三子养亲汤"><a href="#三子养亲汤" class="headerlink" title="三子养亲汤"></a>三子养亲汤</h2><p>　　三子养亲汤，是传统的中药方剂，用于降气消食、温化痰饮之功的方剂，主要治疗老人中虚喘嗽，痰壅气滞之症。此方出自《韩氏医通》，莱菔子就是萝卜子，苏子是紫苏的种子，白芥子是芥菜的种子，三味本草都是植物的种子，种子都有油性，能滋润，且性质都是往下降的，能通便。三个药加在一起，把老人的吃喝拉撒以及平时可能有的一些小毛病全管了。如今，三子养亲汤被广泛应用于现代人的“代谢综合征”，用于去除体内有形及无形之痰。</p>
<p>　　方剂名：三子养亲汤</p>
<p>　　方剂组成：苏子、白芥子、莱菔子</p>
<p>　　方剂方解：本方治证乃因伤食生痰，痰壅气滞，肺失宣降所致。治宜下气消痰，宣肺止咳。方中紫苏子下气消痰，止咳平喘；白芥子利气豁痰；莱菔子降气祛痰，行滞消食。三药合用，可使气顺痰化食消，咳逆自平。三子皆治痰之药，而又能于治痰之中各逞其长，临证当视气、痰、食三者之孰重孰轻，以定君药，余为臣药。原方三子，为事亲者设，故名“三子养亲汤”。</p>
<p>　　用法用量：紫苏子（主气喘咳嗽），白芥子（主痰），萝卜子（主食痞兼痰）。上三味各洗净，微炒，击碎，看何证多，则以所主者为君，余次之，每剂不过三钱，用生绢小袋盛之，煮作汤饮，随甘旨，代茶水啜用，不宜煎熬太过。</p>
<p>　　注意事项：1、本方下气作用较强，消瘦、气血两虚、阴虚者不宜服用。</p>
<p>　　2、建议使用时间为2—4周，不建议服用过长时间。</p>
<h3 id="临床应用"><a href="#临床应用" class="headerlink" title="临床应用"></a>临床应用</h3><p>郭某，女，4岁。2010年4月13日诊。患儿咳嗽反复发作已2年余，每于感冒之后即咳嗽吐白痰不已。本次发病乃两日前感冒，后咳嗽不止，痰多色白，伴食欲不振，舌苔白厚腻，脉滑。曾用西药抗炎治疗无效，又遍寻老中医治疗，收效甚微，后邀余诊治。据其脉症，余辨此证乃属食滞伤风，化痰滞于肺脾，成痰壅食滞气逆之证。故拟以消食化痰，降气止咳，用三子养亲汤加味。处方。苏子6克 白芥子5克 莱菔子9克 茯苓12克 半夏6克 陈皮6克 前胡6克 紫菀6克 焦三仙各10克 内金6克。三剂后，咳嗽吐痰明显减轻，食量增加，效不更方。原方又进3剂，病告痊愈。追访：后又贪食受风发作1次，遵原法治疗而愈，以后再未发作。</p>
<p>　　粱某，男，58岁，2001年8月2日初诊。气喘反复发作20年，加重15天。患者于20年前开始气喘，症状反复发作，逐渐加重。初病时多于冬季发病，近几年发作频繁，无规律性。此次于半月前因感冒后气喘发作，用西药抗炎、平喘、解痉等方法治疗，症状好转不明显。现症见气喘，不能平卧，夜间为甚，痰白黏而少，无发热，无明显咳嗽。诊见面色暗红少泽，舌质暗红偏淡，舌苔白，脉虚数。X线胸部正位片示两肺纹理粗乱。中医诊为哮喘，证属寒痰内积，瘀血夹杂，肺气不足。西医诊断：支气管哮喘。治法：温化寒痰，活血通络，降逆平喘。方用三子养亲汤加味。处方：苏子7克 炒莱菔子7克 白芥子7克 前胡10克 陈皮5克 半夏10克 干姜7克 五味子7克 艾叶10克 桔梗10克 枳壳7克 地龙7克。三剂，水煎服，每日一剂。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-08-02T12:23:25.000Z" title="2024/8/2 20:23:25">2024-08-02</time>发表</span><span class="level-item"><time dateTime="2024-10-31T21:36:16.000Z" title="2024/11/1 05:36:16">2024-11-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/macOS/">macOS</a></span><span class="level-item">3 分钟读完 (大约414个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/02/xcode/">Xcode安装多个版本并切换版本</a></h1><div class="content"><h4 id="安装Xcode"><a href="#安装Xcode" class="headerlink" title="安装Xcode"></a>安装Xcode</h4><p>我们有时候为了适配不同设备，需要安装多个xcode版本，新的版本，老的版本。Xcode各版本兼容性可查看<a target="_blank" rel="noopener" href="https://developer.apple.com/cn/support/xcode/">官方这个页面</a>。然后在<a target="_blank" rel="noopener" href="https://developer.apple.com/download/all/">这个页面</a>下载对应版本，下载到的文件是自解压格式xip，双击自动解压到当前目录为Xcode.app。加上版本号之后移动到&#x2F;Applications目录下，如下载的14.3.1版，可以重命名为Xcode14.3.app。</p>
<ol>
<li>显示当前使用的xcode:<code>xcode-select -p</code> ,显示如下：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Applications/Xcode.app/Contents/Developer</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>查看xcode版本号： <code>xcodebuild -version</code></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Xcode 14.2</span><br><span class="line">Build version 14C18</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>切换版本：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xcode-select -s /Applications/Xcode14.3.app/Contents/Developer</span><br></pre></td></tr></table></figure>




<h4 id="安装Command-Line-Tools"><a href="#安装Command-Line-Tools" class="headerlink" title="安装Command Line Tools"></a>安装Command Line Tools</h4><p>一般Xcode安装后，第一次打开时，会弹窗提示安装Command Line Tools，直接安装即可。</p>
<p>如果当时没有安装，后面也可以单独安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install	// 安装命令</span><br><span class="line"></span><br><span class="line">xcode-select --version	// 查看版本</span><br></pre></td></tr></table></figure>

<p>有时Command Line Tools出了问题，可以先尝试恢复默认设置来解决：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 恢复默认设置（需要sudo权限）</span><br><span class="line">sudo xcode-select --reset</span><br></pre></td></tr></table></figure>

<p>还是解决不了，可以考虑删掉后重新安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 强制删除安装目录下的文件</span><br><span class="line">sudo rm -rf /Library/Developer/CommandLineTools</span><br><span class="line"></span><br><span class="line">// 重新安装</span><br><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure>

<p>除了终端命令的安装方式，也可以到<a target="_blank" rel="noopener" href="https://developer.apple.com/download/more/">苹果开发者官网的下载专区</a>搜索Command Line Tools并下载安装包。你也可以去<a target="_blank" rel="noopener" href="https://xcodereleases.com/">xcodereleases</a>网站找到各种版本Xcode的下载链接。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-06-03T03:41:36.000Z" title="2024/6/3 11:41:36">2024-06-03</time>发表</span><span class="level-item"><time dateTime="2024-06-03T03:46:21.164Z" title="2024/6/3 11:46:21">2024-06-03</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">几秒读完 (大约74个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/03/exsi-help_%E5%89%AF%E6%9C%AC/">HL-2260D打印机粉盒重置</a></h1><div class="content"><h2 id="HL-2260D打印机粉盒重置"><a href="#HL-2260D打印机粉盒重置" class="headerlink" title="HL-2260D打印机粉盒重置"></a>HL-2260D打印机粉盒重置</h2><ul>
<li>长按电源键关机；</li>
<li>打开前鼓架盖；</li>
<li>按住Go键不放，再按电源键，待上面3灯同时亮起，同时放开Go键和电源键；</li>
<li>按10次Go键，关上鼓架盖，待机器重置；</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-05-13T14:01:36.000Z" title="2024/5/13 22:01:36">2024-05-13</time>发表</span><span class="level-item"><time dateTime="2025-01-05T01:14:22.419Z" title="2025/1/5 09:14:22">2025-01-05</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">2 小时读完 (大约17560个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/05/13/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%B7%A5%E7%A8%8B%E5%B8%88%E4%B8%BB%E8%A7%82%E9%A2%98%E8%80%83%E7%82%B9/">信息系统管理工程师主观题考点</a></h1><div class="content"><h1 id="信息系统管理工程师主观题考点"><a href="#信息系统管理工程师主观题考点" class="headerlink" title="信息系统管理工程师主观题考点"></a>信息系统管理工程师主观题考点</h1><h2 id="信息系统开发基础"><a href="#信息系统开发基础" class="headerlink" title="信息系统开发基础"></a>信息系统开发基础</h2><h3 id="信息系统"><a href="#信息系统" class="headerlink" title="信息系统"></a>信息系统</h3><h4 id="1-信息系统组成部分？"><a href="#1-信息系统组成部分？" class="headerlink" title="1. 信息系统组成部分？"></a>1. 信息系统组成部分？</h4><ul>
<li>计算机硬件系统;</li>
<li>计算机软件系统、</li>
<li>数据及其存储介质、</li>
<li>通信系统、</li>
<li>非计算机的信息收集和处理设备；</li>
<li>规章制度；</li>
<li>工作人员。</li>
</ul>
<h4 id="2-信息系统主要类型？"><a href="#2-信息系统主要类型？" class="headerlink" title="2. 信息系统主要类型？"></a>2. 信息系统主要类型？</h4><ul>
<li>面向作业处理的系统；</li>
<li>面向管理控制的系统；</li>
<li>面向决策计划的系统；</li>
</ul>
<h4 id="3-信息系统对企业的影响？"><a href="#3-信息系统对企业的影响？" class="headerlink" title="3. 信息系统对企业的影响？"></a>3. 信息系统对企业的影响？</h4><ul>
<li>促使组织机构扁平化；</li>
<li>组织机构更加灵活有效；</li>
<li>虚拟办公室；</li>
<li>增加企业流程重组的成功率；</li>
</ul>
<h4 id="4-信息系统有哪些开发阶段？"><a href="#4-信息系统有哪些开发阶段？" class="headerlink" title="4. 信息系统有哪些开发阶段？"></a>4. 信息系统有哪些开发阶段？</h4><ul>
<li><strong>系统规划阶段：</strong> 可行性研究，制定初步任务计划。输出可行性分析报告和项目计划书。</li>
<li><strong>系统分析阶段：</strong> 解决做什么的问题。分析用户需求，再将用户需求转换为逻辑模型。输出需求规格说明书、逻辑模型。</li>
<li><strong>系统设计阶段：</strong> 解决这么做的问题。分概要设计、详细设计，将逻辑模型转换为物理模型形成系统设计说明书，作为系统实施的依据。输出设计文档、物理模型。</li>
<li><strong>系统实施阶段：</strong> 把物理模型转换为可实际运行的系统。内容为物理系统的实施、程序设计、系统调试、人员培训、系统切换。输出可运行的系统。</li>
<li><strong>系统运行和维护：</strong> 系统运行、系统运行管理、系统维护。是信息系统生命周期中花钱最多、延续时间最长的阶段。</li>
</ul>
<h3 id="项目管理"><a href="#项目管理" class="headerlink" title="项目管理"></a>项目管理</h3><h4 id="1-战略管理和项目管理的区别和联系？"><a href="#1-战略管理和项目管理的区别和联系？" class="headerlink" title="1. 战略管理和项目管理的区别和联系？"></a>1. 战略管理和项目管理的区别和联系？</h4><ul>
<li><p><strong>区别：</strong></p>
<ul>
<li>战略管理立足于长远和宏观，考虑的是企业的核心竞争力，以及围绕核心竞争力的企业流程再造、业务外包和供应链管理等问题；</li>
<li>项目管理则立足于一定的时期，相对微观，主要考虑有限的目标、学习型组织和团队合作等问题</li>
</ul>
</li>
<li><p><strong>联系：</strong></p>
<ul>
<li>战略管理指导项目管理，项目管理支持战略管理，没有项目管理，公司的战略目标就无法顺利实现</li>
</ul>
</li>
</ul>
<h4 id="2-项目的定义？"><a href="#2-项目的定义？" class="headerlink" title="2. 项目的定义？"></a>2. 项目的定义？</h4><ul>
<li><p><strong>基本概念：</strong> 在既定资源和要求的约束下，为实现某种目的而相互联系的一次性工作任务，包含如下三个层次：</p>
<ul>
<li>一定的资源约束：时间、经费、人力等资源；</li>
<li>一定的目标；</li>
<li>一次性任务；</li>
</ul>
</li>
<li><p><strong>基本特征：</strong> 明确的目标、独特的性质、有限的生命周期、特定的委托人、实施的一次性、组织的临时性和开放性、不确定性和风险性、结果的不可逆性。</p>
</li>
</ul>
<h4 id="3-信息系统项目？"><a href="#3-信息系统项目？" class="headerlink" title="3. 信息系统项目？"></a>3. 信息系统项目？</h4><ul>
<li><p><strong>信息系统项目</strong> 是智力密集、劳动密集型项目，受人力资源影响最大、项目团队的结构、责任心和稳定性对项目的质量和是否成功有决定性的影响。</p>
</li>
<li><p><strong>特点：</strong></p>
<ul>
<li>目标不明确，任务边界模糊，质量要求主要有项目团队定义；</li>
<li>开发过程中，客户需求易变化，导致项目计划的不断变更；</li>
<li>客户的需求不断被激发、不断被进一步明确；</li>
<li>客户需求随项目进展而变化；</li>
<li>项目的进度、费用等计划会不断更改；</li>
</ul>
</li>
</ul>
<h4 id="4-项目管理"><a href="#4-项目管理" class="headerlink" title="4. 项目管理"></a>4. 项目管理</h4><ul>
<li><p><strong>项目管理9大体系：</strong></p>
<ul>
<li>项目范围管理；</li>
<li>项目进度管理；</li>
<li>项目质量管理；</li>
<li>项目成本管理；</li>
<li>项目人力资源管理；</li>
<li>项目沟通管理；</li>
<li>项目采购管理；</li>
<li>项目风险管理；</li>
<li>项目综合管理；</li>
</ul>
</li>
<li><p><strong>基本特点：</strong></p>
<ul>
<li>项目管理是一项复杂的工作；</li>
<li>项目管理具有创造性；</li>
<li>项目管理需要集权领导并建立专门的项目组织；</li>
<li>项目负责人在项目管理中起着非常重要的作用；</li>
</ul>
</li>
</ul>
<h3 id="系统分析"><a href="#系统分析" class="headerlink" title="系统分析"></a>系统分析</h3><p>系统分析阶段是信息系统开发最重要的阶段。</p>
<h4 id="1-系统分析的任务？"><a href="#1-系统分析的任务？" class="headerlink" title="1.系统分析的任务？"></a>1.系统分析的任务？</h4><ul>
<li><p><strong>主要任务：</strong> 理解和表达用户对系统的应用需求。</p>
<ul>
<li>了解用户需求。</li>
<li>确定系统逻辑模型。</li>
<li>完成系统分析报告。为系统设计提供依据。</li>
</ul>
</li>
</ul>
<h4 id="2-系统分析的步骤？"><a href="#2-系统分析的步骤？" class="headerlink" title="2. 系统分析的步骤？"></a>2. 系统分析的步骤？</h4><ul>
<li>现行系统的详细调查</li>
<li>进行需求分析</li>
<li>提出新系统的逻辑模型</li>
<li>编写需求规格说明书。</li>
</ul>
<h4 id="3-系统说明书"><a href="#3-系统说明书" class="headerlink" title="3. 系统说明书"></a>3. 系统说明书</h4><pre><code>系统说明书是系统分析阶段工作的全面总结，是这一阶段的主要成果。系统说明书应达到的基本要求是：全面、系统、准确、详实、清晰第表达系统开发的目标、任务和系统功能。
</code></pre>
<h4 id="4-系统分析报告作用"><a href="#4-系统分析报告作用" class="headerlink" title="4. 系统分析报告作用"></a>4. 系统分析报告作用</h4><ul>
<li>描述了目标系统的逻辑模型，可作为开发人员进行系统设计和实施的基础；</li>
<li>作为用户和开发人员之间的协议或合同，为双方的交流和监督提供基础。</li>
<li>作为目标系统验收和评价的依据。</li>
</ul>
<h3 id="系统设计"><a href="#系统设计" class="headerlink" title="系统设计"></a>系统设计</h3><h4 id="1-系统设计的目标？"><a href="#1-系统设计的目标？" class="headerlink" title="1. 系统设计的目标？"></a>1. 系统设计的目标？</h4><ul>
<li>系统的可靠性</li>
<li>较高的系统运行效率</li>
<li>可变更性</li>
<li>经济性</li>
</ul>
<h4 id="2-系统设计的原则？"><a href="#2-系统设计的原则？" class="headerlink" title="2. 系统设计的原则？"></a>2. 系统设计的原则？</h4><ul>
<li>系统性原则</li>
<li>简单性原则</li>
<li>开放性原则</li>
<li>管理可接受原则</li>
<li>其他原则</li>
</ul>
<h4 id="3-系统设计的内容？"><a href="#3-系统设计的内容？" class="headerlink" title="3. 系统设计的内容？"></a>3. 系统设计的内容？</h4><ul>
<li><p><strong>总体设计：</strong> 也叫概要设计</p>
<ul>
<li>总体布局设计（网络拓扑结构设计、资源配置设计）；</li>
<li>模块化结构设计（划分功能模块、模块功能和职责、模块间的调用关系、模块间的信息传递）。</li>
</ul>
</li>
<li><p><strong>详细设计：</strong></p>
<ul>
<li>代码设计</li>
<li>数据库设计</li>
<li>输入输出设计</li>
<li>用户界面设计</li>
<li>处理过程设计</li>
</ul>
</li>
</ul>
<h4 id="4-系统的处理过程设计的描述方式？"><a href="#4-系统的处理过程设计的描述方式？" class="headerlink" title="4. 系统的处理过程设计的描述方式？"></a>4. 系统的处理过程设计的描述方式？</h4><ul>
<li><p><strong>图形：</strong></p>
<ul>
<li>系统流程图</li>
<li>IPO图</li>
<li>HIPO图</li>
<li>控制结构图</li>
<li>数据流程图</li>
<li>模块结构图</li>
<li>程序框图</li>
</ul>
</li>
</ul>
<h4 id="5-模块结构设计原则？"><a href="#5-模块结构设计原则？" class="headerlink" title="5. 模块结构设计原则？"></a>5. 模块结构设计原则？</h4><ul>
<li>高聚合低耦合</li>
<li>系统分解有层次</li>
<li>适宜的深度和宽度比例</li>
<li>模块大小适中</li>
<li>适度控制模块的扇入扇出</li>
<li>较小的数据冗余</li>
</ul>
<h3 id="系统实施"><a href="#系统实施" class="headerlink" title="系统实施"></a>系统实施</h3><h4 id="系统实施-1"><a href="#系统实施-1" class="headerlink" title="系统实施"></a>系统实施</h4><ul>
<li><p><strong>目标：</strong> 实现系统设计阶段提出的物理模型，按实施方案完成一个可以实际运行的信息系统，并交付用户使用</p>
</li>
<li><p><strong>主要活动：</strong> 根据系统设计所提供的控制结构图、数据库设计、系统配置方案及详细设计资料，编制和调试程序，调试系统、进行系统切换等工作，将技术设计转化为物理实际系统。</p>
</li>
<li><p><strong>实施内容：</strong> </p>
<ul>
<li>硬件配置</li>
<li>软件编码</li>
<li>人员培训</li>
<li>数据准备</li>
</ul>
</li>
<li><p><strong>注意事项：</strong> </p>
<ul>
<li>尽可能选择成熟的软件产品</li>
<li>选择好信息系统的开发工具</li>
</ul>
</li>
<li><p><strong>关键因素：</strong></p>
<ul>
<li>进度安排（进度计划是实施的基本保证）</li>
<li>人员组织（程序编码是实施阶段的主要任务）</li>
<li>任务分解</li>
<li>开发环境构建</li>
</ul>
</li>
</ul>
<h3 id="系统测试"><a href="#系统测试" class="headerlink" title="系统测试"></a>系统测试</h3><h4 id="1-系统测试的目标"><a href="#1-系统测试的目标" class="headerlink" title="1. 系统测试的目标"></a>1. 系统测试的目标</h4><ul>
<li>为了发现错误而执行程序的过程。</li>
<li>好的测试方案能够发现迄今为止尚未发现的错误</li>
<li>成功的测试将发现至今尚未发现的错误。</li>
</ul>
<h4 id="2-测试过程"><a href="#2-测试过程" class="headerlink" title="2. 测试过程"></a>2. 测试过程</h4><ul>
<li>拟定测试计划</li>
<li>编制测试大纲</li>
<li>设计和生成测试用例</li>
<li>实施测试</li>
<li>生成测试报告</li>
</ul>
<h4 id="3-测试原则"><a href="#3-测试原则" class="headerlink" title="3. 测试原则"></a>3. 测试原则</h4><ul>
<li>所有测试有应追溯到用户需求；</li>
<li>尽早的不断的测试；</li>
<li>避免开发人员人员来承担，除开单元测试；</li>
<li>在设计测试方案时，不仅要确定输入数据而且要确定输出结果；</li>
<li>在设计测试用例时，不仅要包括合理有效的输入条件，也要包括不合理无效的输入条件；</li>
<li>测试程序时，既要测试程序是否做了该做的事，也要测试是否做了不该做的事；</li>
<li>充分重视测试中的群集现场；</li>
<li>严格按照测试计划进行测试，避免测试的的随意性；</li>
<li>妥善保存测试计划、用例</li>
</ul>
<h4 id="4-什么是动态测试"><a href="#4-什么是动态测试" class="headerlink" title="4. 什么是动态测试"></a>4. 什么是动态测试</h4><p>动态测试也称为动态分析。</p>
<ul>
<li><p><strong>主要特征：</strong> 是计算机必须真正运行被测试的程序，通过输入测试用例，对其运行情况进行分析，判断期望结果和实际结果是否一致。</p>
</li>
<li><p><strong>包括：</strong></p>
<ul>
<li>功能确认</li>
<li>接口测试</li>
<li>覆盖率分析</li>
<li>性能分析</li>
<li>内存分析</li>
</ul>
</li>
<li><p><strong>压力测试：</strong> 在动态分析中，通过最大资源条件进行系统压力测试，以判断系统的实际承受能力，尤其是在通讯比较复杂的系统中尤为重要。</p>
</li>
<li><p><strong>黑盒测试法：</strong> 功能性测试，不了解软件代码结构，根据功能设计用例，测试软件功能。</p>
</li>
<li><p><strong>白盒测试法：</strong> 结构性测试，明确代码流程，根据代码逻辑设计用例，进行用例覆盖。</p>
</li>
<li><p><strong>灰盒测试法：</strong> 既有黑盒，也有白盒。</p>
</li>
</ul>
<h4 id="5-静态测试"><a href="#5-静态测试" class="headerlink" title="5. 静态测试"></a>5. 静态测试</h4><ul>
<li><p><strong>主要特征：</strong> 是在用计算机测试源程序时，计算机并不真正运行被测试的程序。</p>
</li>
<li><p><strong>包括：</strong> </p>
<ul>
<li>代码检查</li>
<li>静态结构分析</li>
<li>代码质量度量等</li>
</ul>
</li>
<li><p><strong>方式：</strong> 可以由人工进行，也可以借助软件工具自动进行。</p>
</li>
<li><p><strong>桌前检查：</strong> 程序员检查自己编写的程序，在程序编译后，单元测试前。</p>
</li>
<li><p><strong>代码审查：</strong> 由若干个程序员和测试人员组成评审小组，通过召开程序评审会来进行审查。</p>
</li>
<li><p><strong>代码走查：</strong> 也是采用开会来对代码进行审查，但并非简单的检查代码，而是由测试人员提供测试用例，让程序员扮演计算机的角色，手动运行测试用例，检查代码逻辑。</p>
</li>
</ul>
<h4 id="6-测试中可能发现的错误"><a href="#6-测试中可能发现的错误" class="headerlink" title="6. 测试中可能发现的错误"></a>6. 测试中可能发现的错误</h4><ul>
<li>功能错误</li>
<li>系统错误</li>
<li>过程错误</li>
<li>数据错误</li>
<li>编程错误</li>
</ul>
<h4 id="7-硬件测试"><a href="#7-硬件测试" class="headerlink" title="7. 硬件测试"></a>7. 硬件测试</h4><p>在进行信息系统开发中，通常需要根据项目的情况选购硬件设备。在设备到货后，应在各个相关厂商配合下进行初验测试，初验通过后将硬件与软件、网络等一起进行系统测试。初验测试所做的工作主要如下：</p>
<ul>
<li>配置检测：</li>
<li>硬件设备的外观检查：</li>
<li>硬件测试：</li>
</ul>
<h4 id="8-网络测试"><a href="#8-网络测试" class="headerlink" title="8. 网络测试"></a>8. 网络测试</h4><p>如果信息系统不是单机，需要在局域网或广域网运行，按合同会选购网络设备。在网络设备到货，应在各个相关厂商配合下进行初验测试。初验通过后网络将与软件、硬件等一起进行系统测试。初验测试所做的工作如下：</p>
<ul>
<li>网络设备的外观检查：</li>
<li>硬件测试：</li>
<li>网络连通测试：</li>
</ul>
<h4 id="9-软件测试"><a href="#9-软件测试" class="headerlink" title="9. 软件测试"></a>9. 软件测试</h4><p>软件测试实际上分为四步，按下面顺序进行：</p>
<ul>
<li>单元测试：对源程序每一个程序单元进行测试，验证每个模块是否满足系统设计说明书的要求；</li>
<li>组装测试：将已测试过的模块组合成子系统，重点测试各模块之间的接口和联系；</li>
<li>确认测试：对整个软件进行验收，根据系统分析说明书来考察软件是否满足要求；</li>
<li>系统测试：将软件、硬件、网络等系统等各个部分连接起来，对整个系统进行总的功能、性能等方面的测试。</li>
</ul>
<h4 id="10-白盒测试用例设计"><a href="#10-白盒测试用例设计" class="headerlink" title="10. 白盒测试用例设计"></a>10. 白盒测试用例设计</h4><ul>
<li>语句覆盖SC：</li>
<li>判定覆盖DC：</li>
<li>条件覆盖CC：</li>
<li>条件判定组合覆盖CDC：</li>
<li>多条件覆盖MCC：</li>
<li>修正判定条件覆盖MCDC：</li>
<li>路径覆盖：所有可行路径都覆盖了，覆盖层级最高。</li>
</ul>
<h3 id="信息化"><a href="#信息化" class="headerlink" title="信息化"></a>信息化</h3><h4 id="1-国家信息化"><a href="#1-国家信息化" class="headerlink" title="1. 国家信息化"></a>1. 国家信息化</h4><p>在国家统一规划和组织下，在农业、工业、科学技术、国防和社会生活各个方面应用现场信息技术，深入开发，广泛利用信息资源，发展信息产业，加速实现国家现代化进程。</p>
<h4 id="2-国家信息化建设的信息化政策法规体系"><a href="#2-国家信息化建设的信息化政策法规体系" class="headerlink" title="2. 国家信息化建设的信息化政策法规体系"></a>2. 国家信息化建设的信息化政策法规体系</h4><ul>
<li>信息技术发展政策：</li>
<li>信息产业发展政策：</li>
<li>电子政务发展政策：</li>
<li>信息化法规建设：</li>
</ul>
<h4 id="3-国家信息化的4层含义"><a href="#3-国家信息化的4层含义" class="headerlink" title="3. 国家信息化的4层含义"></a>3. 国家信息化的4层含义</h4><ul>
<li>一是实现四个现代化离不开信息化，信息化要服务于现代化；</li>
<li>二是国家统一规划，统一组织；</li>
<li>三是各个领域要广泛应用现代信息技术，开发利用信息资源；</li>
<li>四是信息化是一个不断发展的过程。</li>
</ul>
<h4 id="4-国家信息化体系六要素"><a href="#4-国家信息化体系六要素" class="headerlink" title="4. 国家信息化体系六要素"></a>4. 国家信息化体系六要素</h4><ul>
<li>信息技术应用：</li>
<li>信息资源的开发利用：</li>
<li>信息网络</li>
<li>信息技术和产业</li>
<li>信息化人才</li>
<li>信息化政策法规和标准化规范</li>
</ul>
<h4 id="5-企业信息化"><a href="#5-企业信息化" class="headerlink" title="5. 企业信息化"></a>5. 企业信息化</h4><ul>
<li><p><strong>定义：</strong> 指挖掘先进的管理理念，应用先进的计算机网络技术去整合企业现有的生产、经营、设计、制造、管理，及时的为企业的“三层决策”提供准确有效的数据信息，以便对需求做出迅速的反应，奇本质是加强企业的“核心竞争力”。</p>
</li>
<li><p><strong>根本目的：</strong> 就是实现企业战略目标与信息系统整体部署的有机结合，这种结合当然是可以从不同的层次或者角度出发来考虑，但这种不同层次和角度的结合能够给企业带来的最终效益是不一样的。IT战略有助于确保IT活动支持总体经营战略，使该组织实现其经营的目标和目的。</p>
</li>
<li><p>企业信息管理系统不是把资源整合起来就可以了，而是需要一个有效的信息资源管理体系，其中最为关键的是<strong>从事信息资源管理的人才队伍建设。</strong></p>
</li>
<li><p>其次是架构的问题，在信息资源建设阶段，规划是以建设进程为主线，在信息资源管理阶段，规划应是以架构为主线，主要涉及的是这个信息化运营体系的架构，这个架构要消除以往分散建设所导致的信息孤岛，实现大范围内的信息共享、交换和使用，提升系统效率，达到信息资源的最大增值。</p>
</li>
<li><p><strong>三层体系：</strong></p>
<ul>
<li>战术层</li>
<li>战略层</li>
<li>决策层</li>
</ul>
</li>
</ul>
<h4 id="6-主流的企业信息化系统"><a href="#6-主流的企业信息化系统" class="headerlink" title="6. 主流的企业信息化系统"></a>6. 主流的企业信息化系统</h4><ul>
<li>企业资源计划（ERP）：</li>
<li>客户关系管理（CRM）：</li>
<li>供应链管理（SCM）：</li>
<li>知识管理系统（ABC）：</li>
<li>企业业务流程重组（BPR）：</li>
</ul>
<h4 id="7-U-x2F-C矩阵"><a href="#7-U-x2F-C矩阵" class="headerlink" title="7. U&#x2F;C矩阵"></a>7. U&#x2F;C矩阵</h4><p>U&#x2F;C矩阵是一张表格，用来表达过程与数据两者之间的关系。U代表Use，表示过程对数据类的使用。C代表Create，表示过程对数据类的产生。</p>
<h4 id="8-电子商务（EC）"><a href="#8-电子商务（EC）" class="headerlink" title="8. 电子商务（EC）"></a>8. 电子商务（EC）</h4><p>是指对整个贸易活动实现电子化。即交易各方通过计算机和通讯网络进行信息的发布、传递、存储、统计，以电子交易方式而不是通过纸介质信息交换或直接面谈方式进行商业交易。</p>
<p>参与电子商务的实体有四类：顾客、商户、银行、认证中心</p>
<p>分为下面三种模式：</p>
<ul>
<li>企业对消费者B2C（网上商城）；</li>
<li>企业对企业B2B（1688）；</li>
<li>消费者对消费者C2C（咸鱼）；</li>
</ul>
<h4 id="9-信息资源管理"><a href="#9-信息资源管理" class="headerlink" title="9. 信息资源管理"></a>9. 信息资源管理</h4><ul>
<li><p><strong>定义：</strong> 为了确保信息资源的有效利用，以现代信息技术为手段，对信息资源实施计划、预算、组织、指挥、控制、协调的人类管理活动。</p>
</li>
<li><p><strong>主要内容：</strong></p>
<ul>
<li>信息系统的管理：包括信息系统开发项目、信息系统运行与维护的管理、信息系统评价等。</li>
<li>信息资源开发、利用的标准、规范、法律制度的制定与实施</li>
<li>信息产品与服务的管理</li>
<li>信息资源的安全管理</li>
<li>信息资源管理中的人力资源管理</li>
</ul>
</li>
</ul>
<h3 id="系统管理综述"><a href="#系统管理综述" class="headerlink" title="系统管理综述"></a>系统管理综述</h3><h4 id="1-企业IT管理的三个层次"><a href="#1-企业IT管理的三个层次" class="headerlink" title="1. 企业IT管理的三个层次"></a>1. 企业IT管理的三个层次</h4><ul>
<li>战略层：IT战略规划。IT战略制定，IT治理，IT投资管理。</li>
<li>战术层：IT系统管理。IT管理流程，组织设计，管理制度，管理工具。</li>
<li>运作层：IT技术及运作管理。IT技术管理，服务支持，日常维护等。</li>
</ul>
<h4 id="2-企业IT战略规划"><a href="#2-企业IT战略规划" class="headerlink" title="2. 企业IT战略规划"></a>2. 企业IT战略规划</h4><ol>
<li>IT战略规划目标的制定要具有战略性；</li>
<li>IT战略规划要体现企业核心竞争力要求；</li>
<li>IT战略规划目标的制定要具有较强的业务结合性；</li>
<li>IT战略规划对信息技术的规划必须具有策略性；</li>
<li>IT战略规划对成本的投资分析要有战术性；</li>
<li>IT战略规划要对资源的分配和切入时机进行充分的可行性评估。</li>
</ol>
<h4 id="3-企业IT系统管理"><a href="#3-企业IT系统管理" class="headerlink" title="3. 企业IT系统管理"></a>3. 企业IT系统管理</h4><ul>
<li><p><strong>定义：</strong> IT的高效运作和管理，而不是IT战略规划。</p>
</li>
<li><p><strong>核心目标：</strong> 管理客户（业务部门）的IT需求；如何有效地利用IT资源恰当地满足业务部门的需求。</p>
</li>
<li><p><strong>基本目标：</strong></p>
<ol>
<li>全面掌握企业IT环境，方便管理异构网络，从而实现对企业业务的全面管理。</li>
<li>确保企业IT环境的整体可靠性和安全性，及时处理各种异常信息，在出现问题时及时进行修复，保证企业IT环境的整体性能。</li>
<li>确保企业IT环境的整体可靠性和安全性，对涉及安全操作的用户进行全面跟踪和管理；提供 一种客观的手段来评估组织在使用IT方面面临的风险，并确定这些风险释放得到了有效控制。</li>
<li>提高服务水平，加强服务的可管理性并及时产生各类情况报告，及时、可靠的维护各类服务数据。</li>
</ol>
</li>
<li><p><strong>要求：</strong></p>
<ol>
<li>企业系统管理应可以让企业实现对所有IT资源统一监控和管理的愿望，应采用一致性的管理模式来推动企业现代化跨平台体系机构的建立；</li>
<li>企业IT系统管理应适合于企业大型、复杂、分布式的环境，不但控制了所有技术资源，而且直接可以从 业务角度出发管理整个企业，管理能力可以延伸到关键的非信息设备。企业可以随时部署应用监控系统，用来规划企业商务目标、维持企业高水平服务，提高业务系统商务响应能力；</li>
<li>企业IT系统管理应可以将整个企业基础结构以一个真实世界化的视图呈现给我们，让不同经验的人理解，让企业集中精力面对自己的业务而非平台之间的差异，这有助于大大提高企业的工作效率；</li>
<li>企业IT系统管理应是全集成的解决方案，覆盖网络资源、性能与能力、事件与安全、软件分布、存储、工作流、帮助台、变更管理和其他的用于传统和分布式计算环境的功能，并可以用于互联网和企业内部网。</li>
</ol>
</li>
<li><p><strong>关键IT资源：</strong></p>
<ul>
<li>硬件资源</li>
<li>软件资源（软件+文档）</li>
<li>网络资源（通信线路+网络服务器+网络互联设备等）</li>
<li>数据资源（文件、资料、图表和数据）</li>
</ul>
</li>
<li><p><strong>通用体系结构：</strong></p>
<ul>
<li>IT部门管理；</li>
<li>业务部门（客户）IT支持</li>
<li>IT基础架构管理</li>
</ul>
</li>
</ul>
<h4 id="4-良好的自动化管理工具（系统管理工具）的作用"><a href="#4-良好的自动化管理工具（系统管理工具）的作用" class="headerlink" title="4. 良好的自动化管理工具（系统管理工具）的作用"></a>4. 良好的自动化管理工具（系统管理工具）的作用</h4><ol>
<li>可以有效的监控操作系统环境、网络环境、数据存储环境、信息安全环境和业务应用环境；</li>
<li>可以准确的定位和综合诊断系统异常的原因并提出修复方案；</li>
<li>可以有力的为业务系统保驾护航，让业务应用高枕无忧从而使企业IT部门可以将更多精力投入在服务和推动业务方面</li>
</ol>
<h4 id="5-企业级的系统管理需要考虑因素"><a href="#5-企业级的系统管理需要考虑因素" class="headerlink" title="5. 企业级的系统管理需要考虑因素"></a>5. 企业级的系统管理需要考虑因素</h4><ol>
<li>符合业界的一些最佳实践标准</li>
<li>应提供集成统一的管理体系；</li>
<li>应包括端到端的可靠性和性能管理能力；</li>
<li>应能够将IT管理与业务优先级紧密的联系起来，从而打破IT部门与业务部门之间的隔阂；</li>
<li>应着重考虑服务水平的管理，从而为用户提供更优的服务。</li>
</ol>
<h4 id="6-IT服务理念"><a href="#6-IT服务理念" class="headerlink" title="6. IT服务理念"></a>6. IT服务理念</h4><ul>
<li>以客户（企业的业务部门）为中心提供IT服务；</li>
<li>提供高质量、低成本的IT服务；</li>
<li>提供的服务可度量、可计费。</li>
</ul>
<h4 id="7-服务级别管理"><a href="#7-服务级别管理" class="headerlink" title="7. 服务级别管理"></a>7. 服务级别管理</h4><ul>
<li>服务级别管理是定义、协商、订约、检测和评审提供给客户服务质量水准的流程。直接面对的不是IT服务的用户（业务部门内某个具体的职员），而是IT服务付费的客户（某个具体的业务部门）；</li>
<li><strong>主要目标：</strong> 根据客户的业务需求和相关的成本预算，制定恰当的服务级别目标，并将其以服务级别协议的形式确定下来。</li>
<li><strong>服务级别协议（SLA）</strong> 中确定的服务级别目标，即是IT服务部门监控和评价时机服务品质的标准，也是协调IT部门和业务部门有争议的依据；</li>
<li>服务级别协议设定了IT服务的数量、质量和费用相关标准。SLA不仅用于企业内部IT部门和业务部门之间，也用于企业和第三方服务提供商之间（外包、应用开发服务、系统集成服务）。</li>
</ul>
<h4 id="8-服务级别确认流程"><a href="#8-服务级别确认流程" class="headerlink" title="8. 服务级别确认流程"></a>8. 服务级别确认流程</h4><p><img src="/../images/1-1.png" alt="服务级别确认流程"></p>
<h4 id="9-服务级别的主要作用"><a href="#9-服务级别的主要作用" class="headerlink" title="9. 服务级别的主要作用"></a>9. 服务级别的主要作用</h4><ul>
<li>作为IT部门连接业务部门的枢纽，准确了解业务部门的服务需求，节约组织成本，提高IT投资收益；</li>
<li>对服务质量进行量化考核；</li>
<li>监督服务质量；</li>
<li>明确职责，对违反服务级别协议的行为进行惩罚。</li>
</ul>
<h4 id="10。-服务级别管理的要点"><a href="#10。-服务级别管理的要点" class="headerlink" title="10。 服务级别管理的要点"></a>10。 服务级别管理的要点</h4><ol>
<li>强调IT对业务的价值。<br>1. 在考虑服务级别需求时，要充分考虑业务部门潜在的、隐含的需求，以免因遗漏而影响业务的正常运作；<br>2. 在确定服务级别目标时，要确定合适的服务级别、服务质量。</li>
<li>让业务部门的人员参与进来；</li>
<li>服务级别管理要具体落实。需要更长时间，更复杂、更艰难的监测、评审。</li>
<li>对IT部门来说，至关重要的是创建能够提供的服务级别协议；对业务部门来说，SLA与业务要求相吻合，才有生命力和执行的必要。</li>
</ol>
<h3 id="IT财务管理"><a href="#IT财务管理" class="headerlink" title="IT财务管理"></a>IT财务管理</h3><h4 id="1-IT财务管理流程"><a href="#1-IT财务管理流程" class="headerlink" title="1. IT财务管理流程"></a>1. IT财务管理流程</h4><ul>
<li>IT投资预算；</li>
<li>IT会计核算；</li>
<li>IT服务计费。</li>
</ul>
<h4 id="2-IT预算三个方面"><a href="#2-IT预算三个方面" class="headerlink" title="2. IT预算三个方面"></a>2. IT预算三个方面</h4><ul>
<li>技术成本（硬件和基础设施）；</li>
<li>服务成本（软件开发与维护、故障处理、帮助台支持）；</li>
<li>组织成本（会议、日常开支）。</li>
</ul>
<h4 id="3-IT投资预算的目的"><a href="#3-IT投资预算的目的" class="headerlink" title="3. IT投资预算的目的"></a>3. IT投资预算的目的</h4><ul>
<li>是对IT投资项目进行事前规划和控制；</li>
<li>通过预算可以帮助高级管理人员预测IT项目的经济可行性；</li>
<li>可以作为IT服务实施和运作过程中的控制依据；</li>
<li>编制预算要紧密结合IT能力管理。</li>
</ul>
<h4 id="4-会计核算"><a href="#4-会计核算" class="headerlink" title="4. 会计核算"></a>4. 会计核算</h4><ul>
<li><strong>目标：</strong> 通过量化IT服务运作过程中所耗费的成本以及收益，为IT服务管理人员提供考核依据和决策信息；</li>
<li><strong>包括的活动：</strong> IT服务项目成本核算、投资评价、差异分析和处理。分别实现了对IT项目成本和收益的事中和事后控制；</li>
<li>对成本要素进行定义是IT服务项目成本核算的第一步，成本要素一般可按部门、客户或产品等划分标准进行定义，对于IT服务部门而言，理想的方法是按服务要素结构进行定义；</li>
<li>对于IT项目投资评价的主要指标：投资回报率（ROI）、资本报酬率（ROCE）</li>
<li>为了达到控制的目的，IT会计人员需要将每月、每年的实际数据与相应的预算、计划数据进行比较，发现差异，调查分析差异产生的原因，并对差异进行适当的处理。</li>
<li>IT会计人员需要注意的差异包括：成本差异、收益差异、服务级别差异、工作量差异。</li>
</ul>
<h4 id="5-IT服务计费"><a href="#5-IT服务计费" class="headerlink" title="5. IT服务计费"></a>5. IT服务计费</h4><ul>
<li>IT服务计费是负责向使用IT服务的部门（客户）收取相应的费用；</li>
<li>通过收费，构建一个内部市场，并以价格机制作为合理配置资源的手段，迫使业务部门有效的控制自身需求、降低总体服务成本，从而提高了IT投资效益；</li>
<li>IT服务计费的顺利运作需要以IT会计核算所提供的成本核算数据作为基础。</li>
</ul>
<h4 id="6-IT部门的职责"><a href="#6-IT部门的职责" class="headerlink" title="6. IT部门的职责"></a>6. IT部门的职责</h4><ul>
<li><p>IT部门的核心职责在于始终提供并保持高质量的服务；</p>
</li>
<li><p>有效控制不断上升的服务需求成本；</p>
</li>
<li><p>制定出符合业务发展的服务水平协议；</p>
</li>
<li><p>自动制定出能够反应业务动态变化的服务计划。</p>
</li>
<li><p>具体职责包括：</p>
<ul>
<li>IT战略规划</li>
<li>企业应用系统规划</li>
<li>网络及基础设施</li>
<li>数据库管理</li>
<li>安全管理</li>
<li>IT日常运作</li>
<li>终端用户支持</li>
</ul>
</li>
</ul>
<h4 id="7-IT部门的角色转换"><a href="#7-IT部门的角色转换" class="headerlink" title="7. IT部门的角色转换"></a>7. IT部门的角色转换</h4><p>  ？？？？？</p>
<p>  成本中心</p>
<p>  利润中心</p>
<h4 id="8-IT部门作为独立的利润中心优势"><a href="#8-IT部门作为独立的利润中心优势" class="headerlink" title="8. IT部门作为独立的利润中心优势"></a>8. IT部门作为独立的利润中心优势</h4><ul>
<li>对企业而言，可以是企业集中精力在业务方面，降低成本、提高边际利润；</li>
<li>对于IT部门而言，可称为独立核算的经济实体，通过市场化运作实现自身盈利，对内部人员形成有效激励，更好的利用资源，创造更多社会价值；</li>
<li>对的业务部门而言，在市场需求阶段考虑约束，要考虑成本因素，行为更具经济性，有利于整体效率提升。</li>
</ul>
<h4 id="9-系统管理计划"><a href="#9-系统管理计划" class="headerlink" title="9. 系统管理计划"></a>9. 系统管理计划</h4><ul>
<li><p>运作方的系统管理规划：</p>
<ul>
<li>系统日常操作管理，</li>
<li>IT人员管理，</li>
<li>IT财务管理，</li>
<li>故障管理</li>
<li>性能和能力管理</li>
<li>资源管理</li>
<li>安全管理</li>
</ul>
</li>
<li><p>用户方的系统管理计划包括：</p>
<ul>
<li>帮助服务台</li>
<li>用户参与服务级别管理</li>
<li>IT性能和可用性管理</li>
<li>用户参与IT管理</li>
<li>终端用户安全管理</li>
<li>终端用户软件许可协议</li>
</ul>
</li>
</ul>
<h4 id="10-运作管理规章制度"><a href="#10-运作管理规章制度" class="headerlink" title="10. 运作管理规章制度"></a>10. 运作管理规章制度</h4><ol>
<li><strong>与用户相关的IT支持作业方面的规范制度。</strong> 如日常作业调度手册、系统备份及恢复手册、性能监控及优化手册、输出管理手册、帮助服务台运作手册、常见故障处理方法、终端用户计算机使用制度。</li>
<li><strong>由IT部门执行的以提供高质量IT服务为目的的管理流程。</strong> 如服务级别管理手册、安全管理制度、IT财务管理制度、IT服务计费几成本管理、IT资源及配置管理、新系统转换流程、IT能力规划管理。</li>
</ol>
<h4 id="11-系统运作报告内容"><a href="#11-系统运作报告内容" class="headerlink" title="11. 系统运作报告内容"></a>11. 系统运作报告内容</h4><ol>
<li>系统日常操作日志；</li>
<li>性能能力规划报告；</li>
<li>故障管理报告；</li>
<li>安全审计日志。</li>
</ol>
<h4 id="12-IT组织的设计原则"><a href="#12-IT组织的设计原则" class="headerlink" title="12. IT组织的设计原则"></a>12. IT组织的设计原则</h4><ol>
<li><strong>IT部门首先应设立清晰的远景目标。</strong> 一个简洁清晰的远景是IT管理框架的原动力，描述了IT部门在企业中的位置和贡献。</li>
<li><strong>组织机构调整，清晰部门职责。</strong> 根据IT部门的服务内容重点的思考和划分部门职能，进行组织机构调整，清晰部门职责，做到重点业务突出，核心业务专人负责。</li>
<li><strong>建立目标管理制度、项目管理制度。</strong> 使整个组织的目标能够落实和分解，建立有利于组织生产的项目管理体制。</li>
<li><strong>建立现代人力资源管理体系。</strong> 作为组织机构调整、目标管理制度和项目管理体制的配套工程，建立科学的现代人力资源管理体系，特别是薪酬和考核体系。</li>
<li>通过薪酬和考核体系的建立，促进信息中心的绩效得以提高。</li>
<li>IT组织的柔性化管理，能够较好的适应企业对IT服务的需求变更及技术发展。</li>
</ol>
<h4 id="13-IT组织设计需要考虑的因素"><a href="#13-IT组织设计需要考虑的因素" class="headerlink" title="13. IT组织设计需要考虑的因素"></a>13. IT组织设计需要考虑的因素</h4><ol>
<li>客户位置，是否需要本地帮助服务台、本地系统管理员或技术支持人员；如果实行远程管理IT服务的话，是否会拉开IT服务人员与客户之间的距离。</li>
<li>IT员工工作地点。不同地点的员工是否存在沟通和协调困难；哪些职能可以集中化；哪些职能应该分散在不同位置（是否为客户安排本地系统管理员）。</li>
<li>IT服务组织的规模。是否所有服务管理职能能够得到足够的支持，对所提供的服务而言这些职能是否都是必要的。</li>
<li>IT基础架构的特性。组织支持单一的还是多厂商架构；为支持不同的硬件和软件，需要哪些专业技能；服务管理职能和角色能否根据单一平台划分。</li>
</ol>
<h4 id="14-IT组织和岗位职责设计"><a href="#14-IT组织和岗位职责设计" class="headerlink" title="14. IT组织和岗位职责设计"></a>14. IT组织和岗位职责设计</h4><p>  按IT管理的三个层次：IT战略规划、IT系统管理、IT技术管理及支持来进行IT组织及岗位职责设计。</p>
<ol>
<li><strong>IT战略及投资管理。</strong> 由公司的高层、IT部门的主管及核心管理人员组成，主要职责是制定IT战略规划以及支撑业务发展，对重大IT投资项目予以评估决策。</li>
<li><strong>IT系统管理。</strong> 公司整个IT活动的管理，包括：IT财务管理、服务级别管理、IT资源管理、性能及能力管理、系统安全管理、新系统运行切换，从而保证高质量的为业务部门（客户）提供IT服务。</li>
<li><strong>IT技术及运作支持。</strong> IT基础设施的建设及业务部门IT支持服务，包括：IT基础设施建设、IT日常作业管理、帮助服务台管理、故障管理及用户支持、性能和可用性保障。从而保证业务部门（客户）IT服务的可用性和持续性。</li>
</ol>
<h4 id="15-IT人员的教育与培训"><a href="#15-IT人员的教育与培训" class="headerlink" title="15. IT人员的教育与培训"></a>15. IT人员的教育与培训</h4><p>  IT部门的人力资源管理是从部门的人力资源规划及考核激励开始的，用于保障企业各IT活动的人员配备。</p>
<p>  然而，在做好了IT部门的人力资源规划基础上，更为重要的是建设IT人员教育与培训体系以及为员工制度职业生涯发展规划，让员工与IT部门和企业共同成长。</p>
<h4 id="16-外包对企业的好处"><a href="#16-外包对企业的好处" class="headerlink" title="16. 外包对企业的好处"></a>16. 外包对企业的好处</h4><ul>
<li>可以扬长避短，集中精力发展企业的核心业务；</li>
<li>可以为企业节省人员开支；</li>
<li>可以减少企业的人力资源管理成本；</li>
<li>可以使企业获得更为专业，更为全面的热情服务。</li>
</ul>
<h4 id="17-第三方外包的管理内容"><a href="#17-第三方外包的管理内容" class="headerlink" title="17. 第三方外包的管理内容"></a>17. 第三方外包的管理内容</h4><ol>
<li>外包商的选择；</li>
<li>外包合同的管理；</li>
<li>外包的风险控制。</li>
</ol>
<h4 id="18-外包成功的关键因素"><a href="#18-外包成功的关键因素" class="headerlink" title="18. 外包成功的关键因素"></a>18. 外包成功的关键因素</h4><ul>
<li>良好的社会形象和信誉；</li>
<li>相关行业经验丰富；</li>
<li>能够引领或紧跟信息技术发展；</li>
<li>具有良好的技术能力，经营管理能力，发展能力；</li>
<li>加强战术和战略优势，建立长期战略关系；</li>
<li>聚焦于战略思维，流程再造和管理的贸易伙伴关系。</li>
</ul>
<h4 id="19-外包商的资格审查"><a href="#19-外包商的资格审查" class="headerlink" title="19. 外包商的资格审查"></a>19. 外包商的资格审查</h4><ol>
<li><strong>技术能力：</strong> 外包商提供的信息技术产品是否具备创新性、开发性、安全性、兼容性，是否拥有较高的市场占有率，能否实现信息数据的共享；外包商是否具有信息技术方面的资格认证，如信息产业部颁发的系统集成商证书、认定的软件厂商证书等；外包商是否了解行业特点，能够拿出真正使适合本企业业务的解决方案；信息系统的设计方案中是否运用了稳定、成熟的信息技术，是否符合行业发展的要求，是否充分体现了以客户为中心的服务理念；是否具备对大型设备的运行、维护、管理经验和多系统整合能力；是否拥有对高新技术深入理解的技术专家和项目管理人员。</li>
<li><strong>经营管理能力：</strong> 了解外包商的领导层结构、员工素质、客户数量、社会评价；项目管理水平，如软件工程工具、质量保证体系、成本控制、配置管理方法、管理和技术人员的老化率和流动率；是否具备能够证明其良好运营管理能力的成功案例；员工间是否具备团队合作精神；外包商客户的满意程度。</li>
<li><strong>发展能力：</strong> 分析外包服务商以审计的财务报告、年度报告和其他各项财务指标，了解其盈利能力；考察外包企业从事外包业务的时间、市场份额以及波动因素；评价外包服务商的技术费用支出以及在信息技术领域内的产品创新，确定他们在技术方面的投资水平是否能够支持对企业的外包项目。</li>
</ol>
<h4 id="20-外包合同管理"><a href="#20-外包合同管理" class="headerlink" title="20. 外包合同管理"></a>20. 外包合同管理</h4><p>  关键核心文件：服务等级协议（SLA）</p>
<h4 id="21-外包类型"><a href="#21-外包类型" class="headerlink" title="21. 外包类型"></a>21. 外包类型</h4><p>  根据客户与外包商建立的外包关系，可以将信息技术外包划分为：</p>
<ol>
<li>市场关系外包：合同相对较短，可以更换外包商；</li>
<li>中间关系外包：维持合理的协议性，直至完成主要任务；</li>
<li>伙伴关系外包：合同反复签订，长期的互利关系。</li>
</ol>
<h4 id="22-外包风险控制"><a href="#22-外包风险控制" class="headerlink" title="22.外包风险控制"></a>22.外包风险控制</h4><ol>
<li><strong>加强对外包合作的管理。</strong> 对于企业IT管理者而言，在签署外包合同之前应该谨慎而细致的考虑到外包合同的方方面面，在项目实施过程中，也要能够积极制定计划和处理随时出现的问题。使得外包合同能够不断适应变化，实现双赢局面。</li>
<li><strong>对整个项目体系的规划。</strong> 企业必须对自身的需求和存在的问题非常清楚，从而协调好与外包商长期的合作关系，IT部门也要让员工积极的参与到外包项目中去，企业应该委派代表去参与完成项目。</li>
<li><strong>对新技术敏感。</strong> 企业必须尽快掌握出现的新技术，并了解其潜在的应用，企业的IT部门应该注意供应商的技术简介、参加高技术研讨会，并了解组织现在采用的新技术的情况，不断评估组织的软硬件方案，弄清市场上同类产品的发展潜力。</li>
<li><strong>不断学习。</strong> 企业IT部门应该在其内部倡导良好的学习氛围，以加快用户对持续变化的IT环境的适应速度。</li>
</ol>
<h4 id="23-系统日常操作范围"><a href="#23-系统日常操作范围" class="headerlink" title="23. 系统日常操作范围"></a>23. 系统日常操作范围</h4><ol>
<li>性能和可用性保障： 减少故障时间，提高工作效率，有效控制成本。</li>
<li>系统作业调度： 统一协调，有利于业务支持。</li>
<li>帮助服务台： 全面用户支持解决方案。</li>
<li>输出管理： 确保适当的信息以适当的格式提供给全企业范围内的适当人员。</li>
<li>故障管理及用户支持。</li>
</ol>
<h4 id="24-IT在作业管理的问题上面临的两种挑战"><a href="#24-IT在作业管理的问题上面临的两种挑战" class="headerlink" title="24. IT在作业管理的问题上面临的两种挑战"></a>24. IT在作业管理的问题上面临的两种挑战</h4><ul>
<li>支持大量作业的巨型任务，通常会涉及多个系统或应用；</li>
<li>对商业目标变化的快速响应。</li>
</ul>
<h4 id="25-系统日常操作手册"><a href="#25-系统日常操作手册" class="headerlink" title="25. 系统日常操作手册"></a>25. 系统日常操作手册</h4><ul>
<li>作业调度的时间</li>
<li>优先级</li>
<li>帮助服务台的请求</li>
<li>服务流程</li>
<li>性能的监控方法</li>
<li>报告内容</li>
<li>输出管理</li>
</ul>
<h4 id="26-操作结果管理及改进内容"><a href="#26-操作结果管理及改进内容" class="headerlink" title="26. 操作结果管理及改进内容"></a>26. 操作结果管理及改进内容</h4><ol>
<li>操作日志记录了足以形成数据的信息， 并为关键性的运作提供审核追踪记录，通过定期检查系统日志和其他审核跟踪记录来发现非正常操作和未经授权的访问。</li>
<li>进程安排报告用于追踪并衡量任务的完成非正常终止，特殊要求和紧急要求，以保障工作表现符合进程安排任务量中的规定。</li>
<li>利用工具（批处理和实时工具）来主动的监控、测量和报告系统的性能和容量（包括平均响应时间、每日交易数、停电、平均无故障时间、磁盘空间使用、网络性能），并且定期将包含有关性能、容量和可用性的数据的趋势报告提交给IT管理层。</li>
<li>故障报告应包括事故的原因、纠正措施、防范措施、违背服务标准的统计测量情况（处理中的问题、响应速度、问题类型、维修时间），并定期提交IT管理层。</li>
</ol>
<h4 id="27-操作人员管理内容"><a href="#27-操作人员管理内容" class="headerlink" title="27. 操作人员管理内容"></a>27. 操作人员管理内容</h4><ol>
<li>识别系统日常操作的范围；</li>
<li>编写系统日常操作手册；</li>
<li>管理操作结果并予以改进；</li>
<li>加强操作人员的管理。</li>
</ol>
<h4 id="28-操作人员管理注意事项"><a href="#28-操作人员管理注意事项" class="headerlink" title="28. 操作人员管理注意事项"></a>28. 操作人员管理注意事项</h4><ul>
<li>清晰划分IT日常操作管理职能与其他的IT职能；</li>
<li>IT日常操作管理职能，应由专职部门执行；</li>
<li>IT操作人员完全了解自己的职务内容和职责，并得到了培训；</li>
<li>人手足够；</li>
<li>注意协作，沟通。</li>
</ul>
<h4 id="29-身份管理的问题"><a href="#29-身份管理的问题" class="headerlink" title="29. 身份管理的问题"></a>29. 身份管理的问题</h4><ul>
<li>管理和维护困难；</li>
<li>密码安全策略难以实施；</li>
<li>用户使用不方便；</li>
<li>安全问题发生后，难以追查到责任人。</li>
</ul>
<h4 id="30-统一用户管理优点"><a href="#30-统一用户管理优点" class="headerlink" title="30. 统一用户管理优点"></a>30. 统一用户管理优点</h4><ol>
<li>用户使用更加方便；</li>
<li>安全控制力度得到加强；</li>
<li>减轻管理人员的负担；</li>
<li>安全性得到提高。</li>
</ol>
<h4 id="31-企业用户管理的功能"><a href="#31-企业用户管理的功能" class="headerlink" title="31. 企业用户管理的功能"></a>31. 企业用户管理的功能</h4><ol>
<li>用户账号管理：处理用户信息，统一的用户管理可以仅使用一个接口；用户的密码管理；配套正式流程。</li>
<li>用户权限管理：确定是否允许用户执行所请求操作的流程；用户授权；</li>
<li>企业外部用户管理：账号的分配、撤销权限管理问题；</li>
<li>用户安全审计：安全行为统计监控。</li>
</ol>
<p>  授权通常采用<strong>基于角色的访问控制（RBAC）</strong>。</p>
<h4 id="32-用户安全审计方法"><a href="#32-用户安全审计方法" class="headerlink" title="32. 用户安全审计方法"></a>32. 用户安全审计方法</h4><ol>
<li>利用日志工具来检测和报告较差和易猜的密码；</li>
<li>定期检查和重新认证用户对系统的访问；</li>
<li>利用日志工具检测对网络或关键系统进行的反复的未授权访问；</li>
<li>对于所有系统主动限制、监测和审核超级用户（或系统管理员）的活动。</li>
</ol>
<h4 id="33-用户安全管理审计功能"><a href="#33-用户安全管理审计功能" class="headerlink" title="33. 用户安全管理审计功能"></a>33. 用户安全管理审计功能</h4><ol>
<li>用户安全审计数据的收集，包括：抓取关于用户账号使用情况的数据；</li>
<li>保护用户安全审计数据，包括：使用时间戳、存储的完全性，防止数据的丢失；</li>
<li>用户安全审计数据分析，包括：检查、异常探测、违规分析、入侵分析。</li>
</ol>
<h4 id="34-用户管理的方法"><a href="#34-用户管理的方法" class="headerlink" title="34. 用户管理的方法"></a>34. 用户管理的方法</h4><p>  现代计算机常用的身份认证方式主要有：</p>
<ul>
<li>用户密码方式</li>
<li>IC卡认证</li>
<li>动态密码</li>
<li>USB Key认证</li>
</ul>
<h4 id="35-用户管理报告"><a href="#35-用户管理报告" class="headerlink" title="35. 用户管理报告"></a>35. 用户管理报告</h4><ul>
<li>了解系统通常会发生什么；</li>
<li>哪些资源是用户要访问的；</li>
<li>什么时间是访问的高峰时段；</li>
<li>例外情况处理：登录&#x2F;访问时间地点异常、审核失败等。</li>
</ul>
<h4 id="36-IT计费管理目的"><a href="#36-IT计费管理目的" class="headerlink" title="36. IT计费管理目的"></a>36. IT计费管理目的</h4><ul>
<li>迫使业务部门有效控制需求，降低TCO；</li>
<li>助于IT财务重点关注不符合成本效益的服务项目。</li>
</ul>
<h4 id="37-良好的收费内部核算体系"><a href="#37-良好的收费内部核算体系" class="headerlink" title="37. 良好的收费内部核算体系"></a>37. 良好的收费内部核算体系</h4><ol>
<li>适当的核算收费政策；</li>
<li>可以准确公平的补偿提供服务所承担的成本；</li>
<li>树立IT服务与业务部门（客户）的态度，确保组织IT投资的回报；</li>
<li>考虑收费核算对IT服务的供应者与服务的使用者两方面的利益。</li>
</ol>
<h4 id="38-IT核算的目的"><a href="#38-IT核算的目的" class="headerlink" title="38. IT核算的目的"></a>38. IT核算的目的</h4><ul>
<li>优化IT服务供应者与使用者的行为</li>
<li>最大化的实现组织的目标。</li>
</ul>
<h4 id="39-计费定价方法"><a href="#39-计费定价方法" class="headerlink" title="39. 计费定价方法"></a>39. 计费定价方法</h4><ol>
<li>成本法服务价格已提供服务发生的成本为标准成本可以是总成本，包括这叫也可以是边际成本在线，有ID投资水平下，每增加一单位服务，是发生的成本</li>
<li>成本加成定价法：IT服务的价格统一提供服务的成分加成的定价方法，IT服务价格&#x3D;IT服务成本X（1+X%）；</li>
<li>现行价格法，参考现有组织内部其他各个部门之间或者外部的类似组织服务价格确定；</li>
<li>市场价格法，IT服务的价格按照外部市场供应的价格，确定IT服务的需求者可以与供应商校服价格进行谈判协商；</li>
<li>固定价格法，合同价格法，IT服务的价格是在与客户谈判的基础上由IT部门制定的，一般在一定时期内保持不变。</li>
</ol>
<h4 id="40-成本核算最主要的工作"><a href="#40-成本核算最主要的工作" class="headerlink" title="40. 成本核算最主要的工作"></a>40. 成本核算最主要的工作</h4><ul>
<li>定义成本要素；</li>
<li>成本项目的进一步细分；</li>
</ul>
<p>  对IT部门而言，最理想的方法是按照服务要素结构定义成本要素结构。</p>
<h3 id="资源管理"><a href="#资源管理" class="headerlink" title="资源管理"></a>资源管理</h3><h4 id="1-COBIT中定义的IT资源"><a href="#1-COBIT中定义的IT资源" class="headerlink" title="1. COBIT中定义的IT资源"></a>1. COBIT中定义的IT资源</h4><ol>
<li>数据。最广泛意义上的对象（外部和内部的）、结构及非结构化的、图像、各类数据；</li>
<li>应用系统。人工处理以及计算机程序的总和；</li>
<li>技术。包括硬件、操作系统、数据库管理系统、网络、多媒体；</li>
<li>设备。包括所拥有的支持信息系统的所有资源；</li>
<li>人员。包括员工技能，意识，以及计划、组织、获取、交付、支持、和监控信息系统及服务的能力。</li>
</ol>
<h4 id="2-资产管理的价值"><a href="#2-资产管理的价值" class="headerlink" title="2. 资产管理的价值"></a>2. 资产管理的价值</h4><ul>
<li>整合IT资产管理及其部署；</li>
<li>资产目录和发现；</li>
<li>资产对账；</li>
<li>软件许可管理；</li>
<li>软硬件的维护、移植和处理；</li>
<li>IT财务管理。</li>
</ul>
<h4 id="3-IT资产管理内容"><a href="#3-IT资产管理内容" class="headerlink" title="3. IT资产管理内容"></a>3. IT资产管理内容</h4><ol>
<li>为所有的内外部资源（台式机、服务器、网络、存储设备）提供广泛的发现和性能分析功能，实现资源的合理使用和重部署；</li>
<li>提供整体软件许口管理（目录和使用），包括更复杂的数据库和分布式应用；</li>
<li>提供合同和厂商管理，可以减少文档工作，如核对发票、控制租赁协议、改进并简化谈判过程。</li>
<li>影响分析、成本分析和财政资产管理（包括ROI报表），为业务环境提供适应性支持，降低操作环境成本。</li>
</ol>
<h4 id="4-配置管理"><a href="#4-配置管理" class="headerlink" title="4. 配置管理"></a>4. 配置管理</h4><ul>
<li>配置管理是专门负责提供IT基础架构的配置及运行情况信息的流程。</li>
<li><strong>配置项</strong>：最基本的信息单元，所有软&#x2F;硬件和各种文档；</li>
<li><strong>配置管理数据库CMDB</strong>：IT基础架构中特定组件的配置信息；各配置项相关关系的信息。</li>
</ul>
<h4 id="5-配置管理作为一个控制中心，其主要目标表现在四个方面"><a href="#5-配置管理作为一个控制中心，其主要目标表现在四个方面" class="headerlink" title="5. 配置管理作为一个控制中心，其主要目标表现在四个方面"></a>5. 配置管理作为一个控制中心，其主要目标表现在四个方面</h4><ol>
<li>计算所有IT资产；</li>
<li>为其他IT系统管理流程提供准确信息；</li>
<li>作为故障管理、变更管理和新系统转换的基础；</li>
<li>验证基础架构记录的正确性，并纠正发现的错误。</li>
</ol>
<h4 id="6-通过实施配置管理流程，可为客户和服务提供方带来多方面的效益"><a href="#6-通过实施配置管理流程，可为客户和服务提供方带来多方面的效益" class="headerlink" title="6. 通过实施配置管理流程，可为客户和服务提供方带来多方面的效益"></a>6. 通过实施配置管理流程，可为客户和服务提供方带来多方面的效益</h4><ol>
<li>有效管理IT组件；</li>
<li>提供高质量的IT服务；</li>
<li>更好地遵守法规；</li>
<li>帮助制定财务和费用计划。</li>
</ol>
<h4 id="7-软件资源包括"><a href="#7-软件资源包括" class="headerlink" title="7. 软件资源包括"></a>7. 软件资源包括</h4><ul>
<li>操作系统</li>
<li>中间件</li>
<li>市场上买来的应用</li>
<li>本公司开发的应用</li>
<li>分布式环境软件</li>
<li>服务与计算机应用的软件以及所提供的服务</li>
</ul>
<p>  文档包括</p>
<ul>
<li>应用表格</li>
<li>合同</li>
<li>手册</li>
<li>操作手册。</li>
</ul>
<h4 id="8-企业网络资源"><a href="#8-企业网络资源" class="headerlink" title="8. 企业网络资源"></a>8. 企业网络资源</h4><ol>
<li>通信线路。企业网络传输介质目前常用的传输介质有双绞线同轴电缆、光纤；</li>
<li>通信服务。企业网络服务器，运行网络操作系统，提供硬盘、文件数据及打印机共享服务功能，是网络控制的核心。目前常见的网络服务器有：Netware、UNIX windows NT；</li>
<li>网络设备。主要有网络传输介质互联设备（T形连接器、调制解调器）、网络物理层互联设备（中继器、集线器）、网络连接层互联设备（网桥、交换器）、应用层互联设备（网关、多协议路由器）；</li>
<li>网络软件。如网络控制软件、网络服务软件。</li>
</ol>
<h4 id="9-网络维护管理的五大功能"><a href="#9-网络维护管理的五大功能" class="headerlink" title="9. 网络维护管理的五大功能"></a>9. 网络维护管理的五大功能</h4><ol>
<li>网络的失效管理，</li>
<li>网络的配置管理，</li>
<li>网络的性能管理，</li>
<li>网络的安全管理，</li>
<li>网络的计费管理。</li>
</ol>
<h4 id="10-网络维护管理系统的四个组成要素"><a href="#10-网络维护管理系统的四个组成要素" class="headerlink" title="10. 网络维护管理系统的四个组成要素"></a>10. 网络维护管理系统的四个组成要素</h4><ol>
<li>若干被管理的代理</li>
<li>至少一个网络维护管理器</li>
<li>一个公共网络维护管理协议；</li>
<li>一种或多种管理信息库。</li>
</ol>
<h4 id="11-网络维护管理协议内容"><a href="#11-网络维护管理协议内容" class="headerlink" title="11. 网络维护管理协议内容"></a>11. 网络维护管理协议内容</h4><ul>
<li>网络维护管理器与被管理代理间的通信方法</li>
<li>规定了管理信息库的存储结构</li>
<li>信息库中关键字的含义以及各种事件的处理方法。</li>
</ul>
<h4 id="12-网络管理协议"><a href="#12-网络管理协议" class="headerlink" title="12. 网络管理协议"></a>12. 网络管理协议</h4><ul>
<li>SNMP：简单网络管理协议；</li>
<li>CMIS&#x2F;CMIP：通用管理信息服务&#x2F;通用管理信息协议</li>
</ul>
<h4 id="13-网络配置管理"><a href="#13-网络配置管理" class="headerlink" title="13. 网络配置管理"></a>13. 网络配置管理</h4><ul>
<li>涉及网络设备的设置转换收集和修复；</li>
<li>为了便于日常管理，一般采用网络设备配置图与连接图的方式，将整个系统的网络情况绘制成一张网络系统配置连接图；</li>
<li>两种主要的网络配置工具：设备供应商提供的工具和第三方公司提供的工具。</li>
</ul>
<h4 id="14-网络管理包含的五部分内容"><a href="#14-网络管理包含的五部分内容" class="headerlink" title="14. 网络管理包含的五部分内容"></a>14. 网络管理包含的五部分内容</h4><ul>
<li><strong>网络性能管理</strong>：衡量及利用网络性能，实现网络性能监控和优化。网络性能变量包括：网络吞吐量、用户的响应次数和线路利用。网络管理员通过对网络、系统产生的报表数据进行实时的分析和管理。</li>
<li><strong>网络设备和应用配置管理</strong>：监控网络和系统配额制信息，从而可以跟踪和管理各种版本的硬件和软件元素的网络操作。</li>
<li><strong>网络应用和计费管理</strong>：衡量网络利用、个人或小组网络活动，主要负责网络使用规则和账单等。</li>
<li><strong>网络设备和应用故障管理</strong>：负责监测、日志、通告用户、自动解决网络问题，以确保网络的高效运行。</li>
<li><strong>安全管理</strong>：控制网络资源访问权限，从而不会导致网络遭到破坏。只有被授权的用户才有权访问敏感信息。安全管理主要涉及访问控制或网络资源管理。访问控制管理是指安全性处理过程。即妨碍或促进用户或系统间的通讯，支持各种资源。认证过程，主要包括认证和自主访问控制两个步骤。</li>
</ul>
<h4 id="15-网络管理系统包含"><a href="#15-网络管理系统包含" class="headerlink" title="15. 网络管理系统包含"></a>15. 网络管理系统包含</h4><ul>
<li>探测器Probe（或代理），主要负责收集众多网络节点上的数据；</li>
<li>控制台Console，主要负责集合并分析探测器收集的数据，提取有用信息的报告。</li>
</ul>
<h4 id="16-网络审计支持"><a href="#16-网络审计支持" class="headerlink" title="16. 网络审计支持"></a>16. 网络审计支持</h4><p>  网络审计不管从审计软件和数据库方面都要利用安全技术，并建立一套安全机制，以保障网络设计的安全，对于安全机制主要包括三个方面：</p>
<ul>
<li>接入管理：接入管理主要用于处理好身份鉴别（身份真伪和权限）和接入控制，以控制信息资源的使用；</li>
<li>安全建设：主要功能有安全报警设置、安全报警报告以及检查跟踪；</li>
<li>安全恢复： 主要是及时恢复因网络故障而丢失的信息。</li>
</ul>
<p>  对于安全技术而言，主要可以使用防火墙、数据认证、数据加密技术；还可以将不断发展的新型安全技术应用于网络审计中，如将隧道技术应用于虚拟专用网（VPN）。</p>
<h3 id="安全管理"><a href="#安全管理" class="headerlink" title="安全管理"></a>安全管理</h3><h4 id="1-信息安全基本要素"><a href="#1-信息安全基本要素" class="headerlink" title="1. 信息安全基本要素"></a>1. 信息安全基本要素</h4><ul>
<li><strong>保密性</strong>：确保信息不暴露给未授权的实体，包括最小授权原则（只赋给使用者恰好够用的权限，防止其看到其他保密的数据）、防暴露（将物理数据库文件名和扩展名都修改为一串乱码，防止他人轻易找到复制）、信息加密、物理保密。</li>
<li><strong>完整性</strong>：保证数据传输过程中是正确无误的，接收和发送的数据相同，包括安全协议教、校验码、密码校验、数字签名，公证等手段。</li>
<li><strong>可用性</strong>：保证合法的用户能以合法的手段来访问数据，包括综合保障（IP过滤、业务流控制、路由选择控制、审计跟踪）。</li>
<li><strong>可控性</strong>：控制授权范围内的信息流向及行为方式，整个网络处于可控状态下。</li>
<li><strong>不可抵赖性</strong>： 信息数据参与者不能否认自己发送的数据，参与者身份真实有效。</li>
</ul>
<h4 id="2-安全保护五个等级"><a href="#2-安全保护五个等级" class="headerlink" title="2. 安全保护五个等级"></a>2. 安全保护五个等级</h4><ol>
<li><strong>用户自主保护级（第一级）</strong>：对用户实施访问控制，使用护自己具备自主的安全保护能力。</li>
<li><strong>系统审计保护级（第二级）</strong>：审计跟踪日志，通过登录规程、审计与安全性相关的事件和隔离资源，使用户对自己的行为负责。</li>
<li><strong>安全标记保护级（第三级）</strong>：指定安全标记，提供有安全策略模型、数据标记，以及主体对客观体强制访问控制的非形式化描述；具有准确的标记输出信息的能力。</li>
<li><strong>结构化保护级（第四级）</strong>：将安全保护机制划分为关键部分和非关键部分。加强了鉴别机制，支持系统管理员和操作员的职能，提供可信设施管理，增强了配置管理控制。</li>
<li><strong>访问验证保护级（第五级）</strong>：增加了访问验证功能。</li>
</ol>
<h4 id="3-信息系统的安全保障措施"><a href="#3-信息系统的安全保障措施" class="headerlink" title="3. 信息系统的安全保障措施"></a>3. 信息系统的安全保障措施</h4><ol>
<li><strong>安全策略</strong>：用于描述一个组织高层的安全目标，确定组织安全策略是一个组织实现安全管理和技术措施的前提。</li>
<li><strong>安全组织</strong>： 安全组织作为安全工作的管理、实施和运行维护体系，主要负责安全策略、制度、规划的制定和实施等。</li>
<li><strong>安全人员</strong>： 人是信息安全的核心，信息的建立和使用者都是人，不同级别的保障能力级别的信息系统对人员的可信度要求也不一样。</li>
<li><strong>安全技术</strong>： 是信息系统里面部署的各类安全产品，属于技术类安全控制措施，不同保障能力级别的信息系统应选择具备不同安全保障能力级别的安全技术与产品。</li>
<li><strong>安全运作</strong>：包括生命周期中各个安全环节的要求，包括安全服务的响应时间、安全工程的质量保证、安全培训力度。</li>
</ol>
<h4 id="4-灾难恢复措施"><a href="#4-灾难恢复措施" class="headerlink" title="4. 灾难恢复措施"></a>4. 灾难恢复措施</h4><ol>
<li>灾难预防措施，做灾难恢复备份，自动备份系统的重要信息。</li>
<li>灾难演习制度，每过一段时间进行一次灾难演习，以熟练灾难恢复的操作过程。</li>
<li>灾难恢复，使用最近的一次备份进行灾难恢复，可分为两类：全盘恢复和个别文件恢复。</li>
</ol>
<h4 id="5-备份策略"><a href="#5-备份策略" class="headerlink" title="5. 备份策略"></a>5. 备份策略</h4><ul>
<li>完全备份，可将指定目录下载，所有数据都备份在磁盘或磁带中，占用比较大的磁盘空间。</li>
<li>增量备份，仅对上一次备份（任意备份策略）后的数据的变动进行备份。</li>
<li>差异备份，仅对上一次完全备份后的数据变动进行备份。</li>
</ul>
<h4 id="6-风险管理"><a href="#6-风险管理" class="headerlink" title="6. 风险管理"></a>6. 风险管理</h4><ul>
<li>项目风险是可能导致项目背离既定计划的不确定事件、不利事件和弱点。</li>
<li>项目的风险管理包括：风险识别、风险分析（评估）、风险管理。</li>
<li>风险管理是指识别、评估、降低风险到可以接受的程度，并实施适当机制控制风险，保持在此程度之内的过程。</li>
<li>风险评估的目的是确定信息系统的安全保护等级以及信息系统在现有条件下的安全保障能力级别，进而确定信息系统的安全保护需求。</li>
<li>风险管理则根据风险评估的结果，从管理（包括策略与组织）、技术、运行，三个层面采取相应的安全控制措施，提高信息系统的安全保障能力级别，使得信息系统的安全保障能力级别高于或者等于信息系统的安全保护等级。</li>
</ul>
<h4 id="7-项目的风险管理内容"><a href="#7-项目的风险管理内容" class="headerlink" title="7. 项目的风险管理内容"></a>7. 项目的风险管理内容</h4><ol>
<li><strong>一个风险管理计划</strong>，至少应强调主要的项目风险（财务、进度、组织、业务调整）、潜在的风险影响、风险管理的可能的解决方案，降低风险的措施。</li>
<li><strong>一个风险预防计划和应急计划</strong>，包括降低风险所必需的资源、时间和成本概算。</li>
<li>一各在整个项目周期内自始至终对风险进行测定、跟踪及报告的程序。</li>
<li>应急费用，并将其列入预算。</li>
</ol>
<h4 id="8-控制风险"><a href="#8-控制风险" class="headerlink" title="8. 控制风险"></a>8. 控制风险</h4><ol>
<li>降低风险：降低风险发生的可能性及影响与安装防护措施；</li>
<li>避免风险：通过一定手段和措施避免风险的发生，如修改项目计划，放宽时间；</li>
<li>转嫁风险，将风险转接到第三方，如购买保险；</li>
<li>接受风险：高风险带来高收益，基于投入&#x2F;产出的综合考虑。</li>
</ol>
<h4 id="9-物理安全是信息安全的最基本保障，主要包括："><a href="#9-物理安全是信息安全的最基本保障，主要包括：" class="headerlink" title="9. 物理安全是信息安全的最基本保障，主要包括："></a>9. 物理安全是信息安全的最基本保障，主要包括：</h4><ul>
<li>环境安全；</li>
<li>设施和设备安全；</li>
<li>介质安全。</li>
</ul>
<h4 id="10-健全的环境安全管理包括："><a href="#10-健全的环境安全管理包括：" class="headerlink" title="10. 健全的环境安全管理包括："></a>10. 健全的环境安全管理包括：</h4><ol>
<li>专门用来放置计算机设备的设施或房间；</li>
<li>对IT资产的恰当的环境保护，包括计算机设备、通信设备、个人计算机、局域网设备；</li>
<li>有效的环境控制机制，包括火灾探测和灭火系统、湿度控制系统、双层地板、隐藏的线路铺设、安全设置水管位置（远离敏感设备）、不间断电源和后备点力供应；</li>
<li>定期对计算机设备周边环境进行检查；</li>
<li>定期对环境保护措施进行测试；</li>
<li>定期接受消防管理部门的检查；</li>
<li>对检查中发现的问题进行处理的流程。</li>
</ol>
<h4 id="11-设施和设备安全"><a href="#11-设施和设备安全" class="headerlink" title="11. 设施和设备安全"></a>11. 设施和设备安全</h4><p>  设备的管理包括：购置、使用、维修和存储管理4个方面。</p>
<p>  设备安全包括：防盗、防毁、防电磁信息辐射泄漏、防止线路截获、抗电磁干扰及电源保护。</p>
<p>  采购装备安全设备时，应遵循的原则：</p>
<ol>
<li>严禁采购和使用未经国家信息安全测评机构认可的其他信息安全产品；</li>
<li>尽量采用我国自主开发研制的信息安全技术和设备；</li>
<li>严禁直接采用境外密码设备；</li>
<li>必须采用境外信息安全产品时，该产品必须通过国家信息安全评测机构的认可；</li>
<li>严禁使用未经国家密码管理部门批准和未经国家信息安全质量认证的国内密码设备。</li>
</ol>
<h4 id="12-IDS入侵检测系统"><a href="#12-IDS入侵检测系统" class="headerlink" title="12. IDS入侵检测系统"></a>12. IDS入侵检测系统</h4><p>  IDS是实时监测和防止黑客入侵系统及网络资源的检测系统。主要包括：</p>
<ol>
<li>监控中心；</li>
<li>基于网络的入侵检测器；</li>
<li>基于主机的入侵检测器；</li>
<li>人为漏洞检测器（误用检测）。</li>
</ol>
<h4 id="13-介质安全"><a href="#13-介质安全" class="headerlink" title="13. 介质安全"></a>13. 介质安全</h4><p>  包括介质数据的安全及其本身的安全。常见的不安全情况：</p>
<ol>
<li><strong>损坏</strong>：自然灾害（地震、火灾、洪灾）、物理破坏（硬盘损坏、设备使用寿命到期、外力破损）、设备故障（停电断电、电磁干扰）。</li>
<li><strong>泄漏</strong>；电子辐射（侦听微机操作过程）、乘机而入（合法用户进入安全进程后中途离开）、痕迹泄露（密码、密钥保密不善，被非法用户获得）。</li>
<li><strong>意外失误</strong>：操作失误，意外疏漏，采取应付突发事件的计划来指导工作。</li>
</ol>
<h4 id="14-容错方法"><a href="#14-容错方法" class="headerlink" title="14. 容错方法"></a>14. 容错方法</h4><ol>
<li><strong>使用空闲备件</strong>：配置一个备用部件，平时处于空闲状态，当原部件出现错误时则取代原来部件的功能。</li>
<li><strong>负载均衡</strong>：使两个部件共同承担一个任务，当其中的一个出现故障时，另一个就承担两个部件的全部负载。</li>
<li><strong>镜像</strong>：两个部件执行完全相同的工作，当其中一个出现故障时，另一个则继续工作。</li>
<li><strong>复现</strong>：也称为延迟镜像，即辅助系统从原系统接受数据时存在着延迟，原系统出现故障时，辅助系统就接替原系统的工作，但也相应存在着延时。</li>
<li><strong>热可更换</strong>：某一部件出现故障时，可以立即拆除该部件并替换上一个好的部件，这样就不会导致系统瘫痪。</li>
</ol>
<h4 id="15-信息系统的安全保障措施"><a href="#15-信息系统的安全保障措施" class="headerlink" title="15. 信息系统的安全保障措施"></a>15. 信息系统的安全保障措施</h4><ol>
<li><strong>健全的管理措施</strong>：建立健全的安全事件管理机构，明确人员的分工和责任。</li>
<li><strong>灾难恢复措施</strong>：在系统正常运行时，就通过各种备份措施为灾害和故障做准备。</li>
<li><strong>备份策略</strong>： 制定安全事件响应与处理计划及事件处理过程示意图，以便迅速恢复被破坏的系统。</li>
</ol>
<h4 id="16-系统安全性保护措施"><a href="#16-系统安全性保护措施" class="headerlink" title="16. 系统安全性保护措施"></a>16. 系统安全性保护措施</h4><ol>
<li><strong>物理安全控制</strong>。物理安全控制是指为保证系统各种设备和环境设施的安全而采取的措施。</li>
<li><strong>人员及管理控制</strong>。主要指用户合法身份的确认和检验，用户合法身份检验是防止有意或无意的非法进入系统的最常用的措施。</li>
<li><strong>存取控制</strong>。通过用户鉴别，获得使用计算机权的用户，应根据预先定义好的用户权限进行存取，称为存取控制。</li>
<li><strong>数据加密</strong>。 数据加密由加密（编码）和解密（解码）两部分组成。加密是将明文信息进行编码，使它转换成一种不可理解的内容，这种不可理解的内容成为密文。解密是加密的逆过程，即将密文还原成原来可以理解的形式。</li>
</ol>
<h4 id="17-数据安全措施"><a href="#17-数据安全措施" class="headerlink" title="17. 数据安全措施"></a>17. 数据安全措施</h4><ul>
<li>数据库安全；</li>
<li>终端识别；</li>
<li>文件备份；</li>
<li>访问控制。</li>
</ul>
<h4 id="18-访问控制"><a href="#18-访问控制" class="headerlink" title="18. 访问控制"></a>18. 访问控制</h4><p>  是指防止对计算机及计算机系统进行非授权访问的存取，主要采用两种方式实现：</p>
<ol>
<li>限制访问系统的人员；</li>
<li>限制进入系统的用户所能做的操作。</li>
</ol>
<p>  前者通过用户识别与验证来实现，后者依靠存取控制实现。访问控制手段包括：用户识别代码、密码、登录控制、资源授权（用户配置文件、资源配置文件、控制列表）、授权核查、日志和审计。</p>
<p>  访问控制主要包括六种类型：</p>
<ol>
<li>防御型控制用于阻止不良事件的发生；</li>
<li>探测性控制用于探测已经发生的不良事件；</li>
<li>矫正型控制用于矫正已经发生的不良事件；</li>
<li>管理型控制用于管理系统的开发、维护和使用，针对系统的策略、规程、行为规范、个人的角色和义务、个人职能和人事安全决策。</li>
<li>技术型控制适用于为信息技术系统和应用提供自动保护的硬件和软件控制手段；</li>
<li>操作型控制是用于保护操作系统应用的日常规程和机制。</li>
</ol>
<p>  访问控制的手段可分为三个层次：物理类、管理类、技术类控制手段，每个层次又可分为防御型和探测型。</p>
<p>访问控制的手段分类说明</p>
<ol>
<li>防御型控制</li>
</ol>
<table>
<thead>
<tr>
<th align="left">物理类控制手段</th>
<th align="left">管理类控制手段</th>
<th>技术类控制手段</th>
</tr>
</thead>
<tbody><tr>
<td align="left">文书备份</td>
<td align="left">安全知识培训</td>
<td>访问控制软件</td>
</tr>
<tr>
<td align="left">围墙和栅栏</td>
<td align="left">职务分离</td>
<td>防病毒软件</td>
</tr>
<tr>
<td align="left">保安</td>
<td align="left">职员雇佣手续</td>
<td>库代码控制系统</td>
</tr>
<tr>
<td align="left">证件识别系统</td>
<td align="left">职员离职手续</td>
<td>口令</td>
</tr>
<tr>
<td align="left">加锁的门</td>
<td align="left">监督管理</td>
<td>智能卡</td>
</tr>
<tr>
<td align="left">双供电系统</td>
<td align="left">灾难恢复和应急计划</td>
<td>加密</td>
</tr>
<tr>
<td align="left">生物识别型门禁系统</td>
<td align="left">计算机使用的登记</td>
<td>拨号访问控制和回叫系统</td>
</tr>
<tr>
<td align="left">工作场所的选择</td>
<td align="left"></td>
<td></td>
</tr>
<tr>
<td align="left">灭火系统</td>
<td align="left"></td>
<td></td>
</tr>
</tbody></table>
<ol start="2">
<li>探测型控制</li>
</ol>
<table>
<thead>
<tr>
<th>物理类控制手段</th>
<th>管理类控制手段</th>
<th>技术类控制手段</th>
</tr>
</thead>
<tbody><tr>
<td>移动监测探头</td>
<td>安全评估和审计</td>
<td>日志审计</td>
</tr>
<tr>
<td>烟感和温感探头</td>
<td>性能评估</td>
<td>入侵探测系统</td>
</tr>
<tr>
<td>闭路监控</td>
<td>职务轮换</td>
<td></td>
</tr>
<tr>
<td>传感和报警系统</td>
<td>背景调查</td>
<td></td>
</tr>
</tbody></table>
<h4 id="19-运行管理："><a href="#19-运行管理：" class="headerlink" title="19. 运行管理："></a>19. 运行管理：</h4><ol>
<li>出入管理：根据安全总局和涉密范围进行分区控制；对机房和区域的进出口进行严格控制。</li>
<li>终端管理：目的是增强对终端用户管理的有效性；提高终端用户的满意度；降低系统运营管理成本；提升企业竞争力。终端管理包括 3 个模块：事件管理、配置管理、软件分发。</li>
<li>信息管理： 对信息提供信息分类和信息控制，将所有的抽象的信息记录下来并存档。</li>
</ol>
<h4 id="20-防犯罪管理"><a href="#20-防犯罪管理" class="headerlink" title="20. 防犯罪管理"></a>20. 防犯罪管理</h4><p>  主要威胁：</p>
<ul>
<li>在已授权的情况下，对网络设备及信息资源进行非正常使用或越权使用；</li>
<li>利用各种假冒或欺骗的手段，非法获取合法用户的使用权限；</li>
<li>使用非法手段篡改计算机系统的数据或程序；</li>
<li>改变系统的正常运行方法，减慢系统的响应时间，甚至于破坏计算机系统线路窃听。</li>
</ul>
<h4 id="21-禁止使用国外密码算法和安全产品"><a href="#21-禁止使用国外密码算法和安全产品" class="headerlink" title="21. 禁止使用国外密码算法和安全产品"></a>21. 禁止使用国外密码算法和安全产品</h4><p>  国家明确规定严格禁止直接使用国外的密码算法和安全产品，这主要有两个原因：</p>
<ul>
<li>一是国外禁止出口密码算法和产品，所谓出口的安全的密码算法，国外都有破译手段；</li>
<li>二是恐怕国外的算法或产品中存在“后门”，关键时刻危害我国安全。</li>
</ul>
<h4 id="22-网络安全产品"><a href="#22-网络安全产品" class="headerlink" title="22. 网络安全产品"></a>22. 网络安全产品</h4><ul>
<li>WEB应用防火墙；</li>
<li>入侵检测系统；</li>
<li>防病毒软件；</li>
<li>备份&#x2F;恢复技术。</li>
</ul>
<h3 id="性能和能力管理"><a href="#性能和能力管理" class="headerlink" title="性能和能力管理"></a>性能和能力管理</h3><h3 id="系统维护、运行和评价"><a href="#系统维护、运行和评价" class="headerlink" title="系统维护、运行和评价"></a>系统维护、运行和评价</h3></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-11-22T13:08:36.000Z" title="2023/11/22 21:08:36">2023-11-22</time>发表</span><span class="level-item"><time dateTime="2023-11-22T13:12:03.000Z" title="2023/11/22 21:12:03">2023-11-22</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">1 分钟读完 (大约128个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/11/22/sublime-text-setting/">Sublime text 4的设置</a></h1><div class="content"><ul>
<li>让状态栏显示文档编码： <code>show_encoding</code>设置为true；</li>
<li>在状态栏中显示行结尾形式：<code>&quot;show_line_endings&quot;: true</code>;</li>
<li>在检测不到文档编码时默认以什么编码打开：<code>&quot;fallback_encoding&quot;: &quot;Chinese (GB18030)&quot;</code>;</li>
<li>在查找后不要关闭查找工具条：<code>&quot;close_find_after_find_all&quot;: false</code>;</li>
<li>在替换所有后不要关闭查找工具条：<code>&quot;close_find_after_replace_all&quot;: false</code>;</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;ignored_packages&quot;</span><span class="punctuation">:</span></span><br><span class="line">	<span class="punctuation">[</span></span><br><span class="line">		<span class="string">&quot;Vintage&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;show_encoding&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;show_line_endings&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;fallback_encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Chinese (GB18030)&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;close_find_after_find_all&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;close_find_after_replace_all&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-18T08:46:25.000Z" title="2023/8/18 16:46:25">2023-08-18</time>发表</span><span class="level-item"><time dateTime="2023-09-20T14:16:13.000Z" title="2023/9/20 22:16:13">2023-09-20</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">19 分钟读完 (大约2784个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/18/ubuntu-server/">Ubuntu Server 常用管理</a></h1><div class="content"><h2 id="1-重启网络服务："><a href="#1-重启网络服务：" class="headerlink" title="1.重启网络服务："></a>1.重启网络服务：</h2><p>   <code>sudo /etc/init.d/networking restart</code></p>
<p>   或者：</p>
<p>   <code>service networking restart</code></p>
<h2 id="2-设置Nameserver（2种方法）："><a href="#2-设置Nameserver（2种方法）：" class="headerlink" title="2.设置Nameserver（2种方法）："></a>2.设置Nameserver（2种方法）：</h2><ul>
<li>修改<code>/etc/resolv.conf</code>，但此文件会被resolvconf重写，故应该修改resolvconf配置文件<code>/etc/resolvconf/resolv.conf.d/head</code>， 增加：<code>nameserver 202.96.209.133</code></li>
<li>修改<code>/etc/network/interfaces</code>，DNS对应的参数名为<code>dns-nameservers</code>，这里设置的优先级比上一种方法高。如果两种方法都设置了，则都会出现在&#x2F;etc&#x2F;resolv.conf中。</li>
</ul>
<h2 id="3-将用户加入-group："><a href="#3-将用户加入-group：" class="headerlink" title="3.将用户加入 group："></a>3.将用户加入 group：</h2><p><code>usermod -G groupname username</code> (这种会把用户从其他组中去掉，只属于该组)<br>如：<code>usermod -G git git</code> (git只属于git组)</p>
<p><code>usermod -a -G groupname username</code> (把用户添加到这个组，之前所属组不影响)<br>如：<code>usermod -a -G www git</code> (git属于之前git组，也属于www组)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xxx@xxxx:~$ cat /etc/group|grep user1</span><br><span class="line">user1:x:999:user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep sudo</span><br><span class="line">sudo:x:27:</span><br><span class="line">xxx@xxxx:~$ usermod -G 27 user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep sudo</span><br><span class="line">sudo:x:27:user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep user1</span><br><span class="line">user1:x:999:</span><br><span class="line">xxx@xxxx:~$ usermod -a -G 999 user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep user1</span><br><span class="line">user1:x:999:user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep sudo</span><br><span class="line">sudo:x:27:user1</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxx@xxxx:~$ useradd -r -m -s /bin/bash -G 27 test1 </span><br></pre></td></tr></table></figure>

<h2 id="4-修改时区和时间："><a href="#4-修改时区和时间：" class="headerlink" title="4.修改时区和时间："></a>4.修改时区和时间：</h2><ol>
<li><p>首先查看时区：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redtux@redtux-PC:~$ date -R</span><br><span class="line">Thu, 31 May 2018 00:03:22 +0800</span><br></pre></td></tr></table></figure></li>
<li><p>修改时区，执行sudo tzselect，按提示选择时区.</p>
</li>
<li><p>复制文件到&#x2F;etc目录下 <code>sudo cp /usr/share/zoneinfo/Asia/Shanghai  /etc/localtime</code></p>
</li>
<li><p>更新时间  <code>sudo ntpdate time.windows.com</code></p>
</li>
</ol>
<h2 id="5-搜索文件夹并删除"><a href="#5-搜索文件夹并删除" class="headerlink" title="5.搜索文件夹并删除"></a>5.搜索文件夹并删除</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./* -name <span class="string">&quot;@eaDir&quot;</span> -<span class="built_in">type</span> d -print0 | xargs -0 <span class="built_in">rm</span> -rf</span><br></pre></td></tr></table></figure>

<h2 id="6-gdisk硬盘分区工具"><a href="#6-gdisk硬盘分区工具" class="headerlink" title="6.gdisk硬盘分区工具"></a>6.gdisk硬盘分区工具</h2><p>gdisk是fdisk分区工具的GPT版，MBR分区格式只能支持最大2T的硬盘，大于2T的硬盘必须采用GPT格式，gdisk就是针对GPT格式的升级版。</p>
<p>gdisk</p>
<pre><code>  -l /dev/sdX 查看分区信息
</code></pre>
<p>gdisk</p>
<pre><code>  (?|m) 帮助

  n 建立分区

  d 删除分区

  c 更改分区名字
</code></pre>
<p>　   I 显示分区的详细信息</p>
<pre><code>  p 显示分区信息

  t 转换分区类型

  a 将指定分区设置/取消 活动分区

  l 查看分区类型

  o 重建分区表

  v 验证分区表，显示剩余没有被分区划分的扇区数量

  q 退出不保存，不保存，所有的修改都不生效

  w 退出并保存
</code></pre>
<p>执行<code>gdisk /dev/sdx</code>对sdx硬盘进行编辑，分区表编辑完成保存后，需要重新启动系统，否则系统内核还不知道硬盘分区已经改变了，这个时候你<code>ls /dev/sd*</code>查看到的分区情况还是编辑之前的。或者可以先执行<code>partprobe</code>命令试一下看系统是否检测到硬盘分区的变化。</p>
<h2 id="7-blkid-列出所有分区的uuid"><a href="#7-blkid-列出所有分区的uuid" class="headerlink" title="7.blkid 列出所有分区的uuid"></a>7.blkid 列出所有分区的uuid</h2><p>硬盘根据插拔接口顺序不同可能是sda，也可能是sdb，这样重启后会不能正确的挂载所有的硬盘，为解决这个问题，UUID被文件系统设计者采用，使其可以持久唯一标识一个硬盘分区。其实方式很简单，就是在文件系统的超级块中使用128位存放UUID。这个UUID是在使用文件系统格式化分区时计算生成的，例如Linux下的文件系统工具mkfs就在格式化分区的同时，生成UUID并把它记录到超级块的固定区域中。</p>
<p>使用mkfs对分区格式化后，会显示分区的uuid，如果我们没有记录下来后面怎么查呢，这个就要用到<code>blkid</code>工具了，他可以列出系统中所有硬盘分区的uuid。</p>
<h2 id="8-rsync-远程同步工具"><a href="#8-rsync-远程同步工具" class="headerlink" title="8.rsync 远程同步工具"></a>8.rsync 远程同步工具</h2><p>rsync 是一个常用的 Linux 应用程序，用于文件同步。</p>
<p>它可以在本地计算机与远程计算机之间，或者两个本地目录之间同步文件（但不支持两台远程计算机之间的同步）。它也可以当作文件复制工具，替代cp和mv命令。</p>
<p>它名称里面的r指的是 remote，rsync 其实就是”远程同步”（remote sync）的意思。与其他文件传输工具（如 FTP 或 scp）不同，rsync 的最大特点是会检查发送方和接收方已有的文件，仅传输有变动的部分（默认规则是文件大小或修改时间有变动）。</p>
<p><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2020/08/rsync.html">用法参考文章</a></p>
<h3 id="r-参数"><a href="#r-参数" class="headerlink" title="-r 参数"></a>-r 参数</h3><p>本机使用 rsync 命令时，可以作为cp和mv命令的替代方法，将源目录同步到目标目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -r source destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，-r表示递归，即包含子目录。注意，-r是必须的，否则 rsync 运行不会成功。source目录表示源目录，destination表示目标目录。</p>
<p>如果有多个文件或目录需要同步，可以写成下面这样。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -r source1 source2 destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，source1、source2都会被同步到destination目录。</p>
<h3 id="a-参数"><a href="#a-参数" class="headerlink" title="-a 参数"></a>-a 参数</h3><p>-a参数可以替代-r，除了可以递归同步以外，还可以同步元信息（比如修改时间、权限等）。由于 rsync 默认使用文件大小和修改时间决定文件是否需要更新，所以-a比-r更有用。下面的用法才是常见的写法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -a source destination</span><br></pre></td></tr></table></figure>

<p>目标目录destination如果不存在，rsync 会自动创建。执行上面的命令后，源目录source被完整地复制到了目标目录destination下面，即形成了destination&#x2F;source的目录结构。</p>
<p>如果只想同步源目录source里面的内容到目标目录destination，则需要在源目录后面加上斜杠。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -a source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令执行后，source目录里面的内容，就都被复制到了destination目录里面，并不会在destination下面创建一个source子目录。</p>
<h3 id="n-参数"><a href="#n-参数" class="headerlink" title="-n 参数"></a>-n 参数</h3><p>如果不确定 rsync 执行后会产生什么结果，可以先用-n或–dry-run参数模拟执行的结果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -anv source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，-n参数模拟命令执行的结果，并不真的执行命令。-v参数则是将结果输出到终端，这样就可以看到哪些内容会被同步。</p>
<h3 id="–delete-参数"><a href="#–delete-参数" class="headerlink" title="–delete 参数"></a>–delete 参数</h3><p>默认情况下，rsync 只确保源目录的所有内容（明确排除的文件除外）都复制到目标目录。它不会使两个目录保持相同，并且不会删除文件。如果要使得目标目录成为源目录的镜像副本，则必须使用–delete参数，这将删除只存在于目标目录、不存在于源目录的文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --delete source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，–delete参数会使得destination成为source的一个镜像。</p>
<h3 id="–exclude-参数"><a href="#–exclude-参数" class="headerlink" title="–exclude 参数"></a>–exclude 参数</h3><p>有时，我们希望同步时排除某些文件或目录，这时可以用–exclude参数指定排除模式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude=&#x27;*.txt&#x27; source/ destination</span><br><span class="line"># 或者</span><br><span class="line">$ rsync -av --exclude &#x27;*.txt&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令排除了所有 TXT 文件。</p>
<p>注意，rsync 会同步以”点”开头的隐藏文件，如果要排除隐藏文件，可以这样写–exclude&#x3D;”.*”。</p>
<p>如果要排除某个目录里面的所有文件，但不希望排除目录本身，可以写成下面这样。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude &#x27;dir1/*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>多个排除模式，可以用多个–exclude参数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude &#x27;file1.txt&#x27; --exclude &#x27;dir1/*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>多个排除模式也可以利用 Bash 的大扩号的扩展功能，只用一个–exclude参数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude=&#123;&#x27;file1.txt&#x27;,&#x27;dir1/*&#x27;&#125; source/ destination</span><br></pre></td></tr></table></figure>

<p>如果排除模式很多，可以将它们写入一个文件，每个模式一行，然后用–exclude-from参数指定这个文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude-from=&#x27;exclude-file.txt&#x27; source/ destination</span><br></pre></td></tr></table></figure>


<h3 id="–include-参数"><a href="#–include-参数" class="headerlink" title="–include 参数"></a>–include 参数</h3><p>–include参数用来指定必须同步的文件模式，往往与–exclude结合使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --include=&quot;*.txt&quot; --exclude=&#x27;*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令指定同步时，排除所有文件，但是会包括 TXT 文件。</p>
<h3 id="增量备份"><a href="#增量备份" class="headerlink" title="增量备份"></a>增量备份</h3><p>rsync 的最大特点就是它可以完成增量备份，也就是默认只复制有变动的文件。</p>
<p>除了源目录与目标目录直接比较，rsync 还支持使用基准目录，即将源目录与基准目录之间变动的部分，同步到目标目录。</p>
<p>具体做法是，第一次同步是全量备份，所有文件在基准目录里面同步一份。以后每一次同步都是增量备份，只同步源目录与基准目录之间有变动的部分，将这部分保存在一个新的目标目录。这个新的目标目录之中，也是包含所有文件，但实际上，只有那些变动过的文件是存在于该目录，其他没有变动的文件都是指向基准目录文件的硬链接。</p>
<p>–link-dest参数用来指定同步时的基准目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -a --delete --link-dest /compare/path /source/path /target/path</span><br></pre></td></tr></table></figure>

<p>上面命令中，–link-dest参数指定基准目录&#x2F;compare&#x2F;path，然后源目录&#x2F;source&#x2F;path跟基准目录进行比较，找出变动的文件，将它们拷贝到目标目录&#x2F;target&#x2F;path。那些没变动的文件则会生成硬链接。这个命令的第一次备份时是全量备份，后面就都是增量备份了。</p>
<p>下面是一个脚本示例，备份用户的主目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># A script to perform incremental backups using rsync</span><br><span class="line"></span><br><span class="line">set -o errexit</span><br><span class="line">set -o nounset</span><br><span class="line">set -o pipefail</span><br><span class="line"></span><br><span class="line">readonly SOURCE_DIR=&quot;$&#123;HOME&#125;&quot;</span><br><span class="line">readonly BACKUP_DIR=&quot;/mnt/data/backups&quot;</span><br><span class="line">readonly DATETIME=&quot;$(date &#x27;+%Y-%m-%d_%H:%M:%S&#x27;)&quot;</span><br><span class="line">readonly BACKUP_PATH=&quot;$&#123;BACKUP_DIR&#125;/$&#123;DATETIME&#125;&quot;</span><br><span class="line">readonly LATEST_LINK=&quot;$&#123;BACKUP_DIR&#125;/latest&quot;</span><br><span class="line"></span><br><span class="line">mkdir -p &quot;$&#123;BACKUP_DIR&#125;&quot;</span><br><span class="line"></span><br><span class="line">rsync -av --delete \</span><br><span class="line">  &quot;$&#123;SOURCE_DIR&#125;/&quot; \</span><br><span class="line">  --link-dest &quot;$&#123;LATEST_LINK&#125;&quot; \</span><br><span class="line">  --exclude=&quot;.cache&quot; \</span><br><span class="line">  &quot;$&#123;BACKUP_PATH&#125;&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;$&#123;LATEST_LINK&#125;&quot;</span><br><span class="line">ln -s &quot;$&#123;BACKUP_PATH&#125;&quot; &quot;$&#123;LATEST_LINK&#125;&quot;</span><br></pre></td></tr></table></figure>

<p>上面脚本中，每一次同步都会生成一个新目录<code>$&#123;BACKUP_DIR&#125;/$&#123;DATETIME&#125;</code>，并将软链接<code>$&#123;BACKUP_DIR&#125;/latest</code>指向这个目录。下一次备份时，就将<code>$&#123;BACKUP_DIR&#125;/latest</code>作为基准目录，生成新的备份目录。最后，再将软链接<code>$&#123;BACKUP_DIR&#125;/latest</code>指向新的备份目录。</p>
<h2 id="Udisk-管理工具"><a href="#Udisk-管理工具" class="headerlink" title="Udisk 管理工具"></a>Udisk 管理工具</h2><p>udisksctl: The udisks command line tool</p>
<p>udisksctl status<br>udisksctl info {–object-path OBJECT | –block-device DEVICE | –drive DRIVE}<br>udisksctl mount {–object-path OBJECT | –block-device DEVICE} [–filesystem-type TYPE] [–options OPTIONS…] [–no-user-interaction]<br>udisksctl unmount {–object-path OBJECT | –block-device DEVICE} [–force] [–no-user-interaction]<br>udisksctl unlock {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction] [–key-file PATH] [–read-only]<br>udisksctl lock {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl loop-setup –file PATH [–read-only] [–offset OFFSET] [–size SIZE] [–no-user-interaction]<br>udisksctl loop-delete {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl power-off {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl smart-simulate –file PATH {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl monitor<br>udisksctl dump<br>udisksctl help</p>
<p><a target="_blank" rel="noopener" href="https://www.systutorials.com/docs/linux/man/1-udisksctl/">命令手册</a></p>
<p>完全卸载U盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">udisksctl power-off --block-device /dev/sdx</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-15T08:30:00.000Z" title="2023/8/15 16:30:00">2023-08-15</time>发表</span><span class="level-item"><time dateTime="2023-08-22T05:33:48.000Z" title="2023/8/22 13:33:48">2023-08-22</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Ubuntu2Nas/">Ubuntu2Nas</a></span><span class="level-item">16 分钟读完 (大约2354个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/15/Nas/nextcloud/">自建Nextcloud私有云盘</a></h1><div class="content"><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>从Nextcloud<a target="_blank" rel="noopener" href="https://nextcloud.com/">官方网站</a>下载server的安装包，复制到<code>/var/www</code>目录解压。</p>
<p>详细安装过程参考<a target="_blank" rel="noopener" href="https://docs.nextcloud.com/server/stable/admin_manual/installation/source_installation.html">官方文档</a></p>
<h3 id="1、按照官方文档安装完善php模块"><a href="#1、按照官方文档安装完善php模块" class="headerlink" title="1、按照官方文档安装完善php模块"></a>1、按照官方文档安装完善php模块</h3><p>必须要安装的模块</p>
<ul>
<li><p>PHP (see System requirements for a list of supported versions)</p>
</li>
<li><p>PHP module ctype</p>
</li>
<li><p>PHP module curl</p>
</li>
<li><p>PHP module dom</p>
</li>
<li><p>PHP module fileinfo (included with PHP)</p>
</li>
<li><p>PHP module filter (only on Mageia and FreeBSD)</p>
</li>
<li><p>PHP module GD</p>
</li>
<li><p>PHP module hash (only on FreeBSD)</p>
</li>
<li><p>PHP module JSON (included with PHP &gt;&#x3D; 8.0)</p>
</li>
<li><p>PHP module libxml (Linux package libxml2 must be &gt;&#x3D;2.7.0)</p>
</li>
<li><p>PHP module mbstring</p>
</li>
<li><p>PHP module openssl (included with PHP &gt;&#x3D; 8.0)</p>
</li>
<li><p>PHP module posix</p>
</li>
<li><p>PHP module session</p>
</li>
<li><p>PHP module SimpleXML</p>
</li>
<li><p>PHP module XMLReader</p>
</li>
<li><p>PHP module XMLWriter</p>
</li>
<li><p>PHP module zip</p>
</li>
<li><p>PHP module zlib</p>
</li>
</ul>
<p>选择合适的数据库模块：</p>
<ul>
<li><p>PHP module pdo_sqlite (&gt;&#x3D; 3, usually not recommended for performance reasons)</p>
</li>
<li><p>PHP module pdo_mysql (MySQL&#x2F;MariaDB)</p>
</li>
<li><p>PHP module pdo_pgsql (PostgreSQL)</p>
</li>
</ul>
<p>推荐安装的模块：</p>
<ul>
<li><p>PHP module bz2 (recommended, required for extraction of apps)</p>
</li>
<li><p>PHP module intl (increases language translation performance and fixes sorting of non-ASCII characters)</p>
</li>
</ul>
<h3 id="2、Apache配置文件"><a href="#2、Apache配置文件" class="headerlink" title="2、Apache配置文件"></a>2、Apache配置文件</h3><p>新增配置文件<code>vim /etc/apache2/sites-available/nextcloud.conf</code>，复制以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">  DocumentRoot /var/www/nextcloud/</span><br><span class="line">  ServerName  your.server.com</span><br><span class="line"></span><br><span class="line">  &lt;Directory /var/www/nextcloud/&gt;</span><br><span class="line">    Require all granted</span><br><span class="line">    AllowOverride All</span><br><span class="line">    Options FollowSymLinks MultiViews</span><br><span class="line"></span><br><span class="line">    &lt;IfModule mod_dav.c&gt;</span><br><span class="line">      Dav off</span><br><span class="line">    &lt;/IfModule&gt;</span><br><span class="line">  &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>

<p>保存，然后运行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a2ensite nextcloud.conf</span><br></pre></td></tr></table></figure>

<p>启用必要的Apache模块：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a2enmod rewrite</span><br><span class="line"></span><br><span class="line">a2enmod headers</span><br><span class="line">a2enmod env</span><br><span class="line">a2enmod dir</span><br><span class="line">a2enmod mime</span><br></pre></td></tr></table></figure>

<p>If you’re running mod_fcgi instead of the standard mod_php also enable:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a2enmod setenvif</span><br></pre></td></tr></table></figure>

<p>最后重启Apache：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service apache2 restart</span><br></pre></td></tr></table></figure>

<p>现在就可以访问<code>http://your.server.com</code>安装Nextcloud。</p>
<h2 id="Redis缓存配置"><a href="#Redis缓存配置" class="headerlink" title="Redis缓存配置"></a>Redis缓存配置</h2><p>修改配置文件<code>nextcloud/config/config.php</code>：</p>
<h3 id="Small-x2F-Private-home-server"><a href="#Small-x2F-Private-home-server" class="headerlink" title="Small&#x2F;Private home server"></a>Small&#x2F;Private home server</h3><p>Only use APCu:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;memcache.local&#x27; =&gt; &#x27;\OC\Memcache\APCu&#x27;,</span><br></pre></td></tr></table></figure>

<h3 id="Organizations-with-single-server"><a href="#Organizations-with-single-server" class="headerlink" title="Organizations with single-server"></a>Organizations with single-server</h3><p>Use Redis for everything except local memcache:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x27;memcache.local&#x27; =&gt; &#x27;\OC\Memcache\APCu&#x27;,</span><br><span class="line">&#x27;memcache.distributed&#x27; =&gt; &#x27;\OC\Memcache\Redis&#x27;,</span><br><span class="line">&#x27;memcache.locking&#x27; =&gt; &#x27;\OC\Memcache\Redis&#x27;,</span><br><span class="line">&#x27;redis&#x27; =&gt; [</span><br><span class="line">     &#x27;host&#x27; =&gt; &#x27;localhost&#x27;,</span><br><span class="line">     &#x27;port&#x27; =&gt; 6379,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h3 id="Organizations-with-clustered-setups"><a href="#Organizations-with-clustered-setups" class="headerlink" title="Organizations with clustered setups"></a>Organizations with clustered setups</h3><p>Use APCu for local cache and either Redis cluster …:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x27;memcache.local&#x27; =&gt; &#x27;\OC\Memcache\APCu&#x27;,</span><br><span class="line">&#x27;memcache.distributed&#x27; =&gt; &#x27;\OC\Memcache\Redis&#x27;,</span><br><span class="line">&#x27;memcache.locking&#x27; =&gt; &#x27;\OC\Memcache\Redis&#x27;,</span><br><span class="line">&#x27;redis.cluster&#x27; =&gt; [</span><br><span class="line">    &#x27;seeds&#x27; =&gt; [ // provide some/all of the cluster servers to bootstrap discovery, port required</span><br><span class="line">       &#x27;cache-cluster:7000&#x27;,</span><br><span class="line">       &#x27;cache-cluster:7001&#x27;,</span><br><span class="line">    ],</span><br><span class="line"> ]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>APCu is disabled by default on CLI which could cause issues with nextcloud’s cron jobs. Please make sure you set the <code>apc.enable_cli</code> to <code>1</code> on your <code>php.ini</code> config file or append <code>--define apc.enable_cli=1</code> to the cron job call.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/php/8.1/cli/php.ini</span><br></pre></td></tr></table></figure>

<p>在末尾添加<code>apc.enable_cli=1</code>，否则当你运行occ命令的时候也会提示你APCu不可用。</p>
<h2 id="OCC命令的使用"><a href="#OCC命令的使用" class="headerlink" title="OCC命令的使用"></a>OCC命令的使用</h2><p>直接运行<code>occ</code>命令，不带任何选项，就会列出occ命令的所有可用的选项和用法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u www-data php8.1 /var/www/nextcloud/occ</span><br></pre></td></tr></table></figure>

<p>返回信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br></pre></td><td class="code"><pre><span class="line">Nextcloud 24.0.12</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  command [options] [arguments]</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -h, --help            Display this help message</span><br><span class="line">  -q, --quiet           Do not output any message</span><br><span class="line">  -V, --version         Display this application version</span><br><span class="line">      --ansi            Force ANSI output</span><br><span class="line">      --no-ansi         Disable ANSI output</span><br><span class="line">  -n, --no-interaction  Do not ask any interactive question</span><br><span class="line">      --no-warnings     Skip global warnings, show command output only</span><br><span class="line">  -v|vv|vvv, --verbose  Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug</span><br><span class="line"></span><br><span class="line">Available commands:</span><br><span class="line">  check                                  check dependencies of the server environment</span><br><span class="line">  help                                   Display help for a command</span><br><span class="line">  list                                   List commands</span><br><span class="line">  status                                 show some status information</span><br><span class="line">  upgrade                                run upgrade routines after installation of a new release. The release has to be installed before.</span><br><span class="line"> activity</span><br><span class="line">  activity:send-mails                    Sends the activity notification mails</span><br><span class="line"> app</span><br><span class="line">  app:check-code                         check code to be compliant</span><br><span class="line">  app:disable                            disable an app</span><br><span class="line">  app:enable                             enable an app</span><br><span class="line">  app:getpath                            Get an absolute path to the app directory</span><br><span class="line">  app:install                            install an app</span><br><span class="line">  app:list                               List all available apps</span><br><span class="line">  app:remove                             remove an app</span><br><span class="line">  app:update                             update an app or all apps</span><br><span class="line"> background</span><br><span class="line">  background:ajax                        Use ajax to run background jobs</span><br><span class="line">  background:cron                        Use cron to run background jobs</span><br><span class="line">  background:webcron                     Use webcron to run background jobs</span><br><span class="line"> background-job</span><br><span class="line">  background-job:execute                 Execute a single background job manually</span><br><span class="line"> broadcast</span><br><span class="line">  broadcast:test                         test the SSE broadcaster</span><br><span class="line"> circles</span><br><span class="line">  circles:check                          Checking your configuration</span><br><span class="line">  circles:maintenance                    Clean stuff, keeps the app running</span><br><span class="line">  circles:manage:config                  edit config/type of a Circle</span><br><span class="line">  circles:manage:create                  create a new circle</span><br><span class="line">  circles:manage:destroy                 destroy a circle by its ID</span><br><span class="line">  circles:manage:details                 get details about a circle by its ID</span><br><span class="line">  circles:manage:edit                    edit displayName or description of a Circle</span><br><span class="line">  circles:manage:join                    emulate a user joining a Circle</span><br><span class="line">  circles:manage:leave                   simulate a user joining a Circle</span><br><span class="line">  circles:manage:list                    listing current circles</span><br><span class="line">  circles:manage:setting                 edit setting for a Circle</span><br><span class="line">  circles:members:add                    Add a member to a Circle</span><br><span class="line">  circles:members:details                get details about a member by its ID</span><br><span class="line">  circles:members:level                  Change the level of a member from a Circle</span><br><span class="line">  circles:members:list                   listing Members from a Circle</span><br><span class="line">  circles:members:remove                 remove a member from a circle</span><br><span class="line">  circles:members:search                 Change the level of a member from a Circle</span><br><span class="line">  circles:memberships                    index and display memberships for local and federated users</span><br><span class="line">  circles:remote                         remote features</span><br><span class="line">  circles:shares:files                   listing shares files</span><br><span class="line">  circles:sync                           Sync Circles and Members</span><br><span class="line">  circles:test                           testing some features</span><br><span class="line"> config</span><br><span class="line">  config:app:delete                      Delete an app config value</span><br><span class="line">  config:app:get                         Get an app config value</span><br><span class="line">  config:app:set                         Set an app config value</span><br><span class="line">  config:import                          Import a list of configs</span><br><span class="line">  config:list                            List all configs</span><br><span class="line">  config:system:delete                   Delete a system config value</span><br><span class="line">  config:system:get                      Get a system config value</span><br><span class="line">  config:system:set                      Set a system config value</span><br><span class="line"> dav</span><br><span class="line">  dav:create-addressbook                 Create a dav addressbook</span><br><span class="line">  dav:create-calendar                    Create a dav calendar</span><br><span class="line">  dav:delete-calendar                    Delete a dav calendar</span><br><span class="line">  dav:list-calendars                     List all calendars of a user</span><br><span class="line">  dav:move-calendar                      Move a calendar from an user to another</span><br><span class="line">  dav:remove-invalid-shares              Remove invalid dav shares</span><br><span class="line">  dav:retention:clean-up                 </span><br><span class="line">  dav:send-event-reminders               Sends event reminders</span><br><span class="line">  dav:sync-birthday-calendar             Synchronizes the birthday calendar</span><br><span class="line">  dav:sync-system-addressbook            Synchronizes users to the system addressbook</span><br><span class="line"> db</span><br><span class="line">  db:add-missing-columns                 Add missing optional columns to the database tables</span><br><span class="line">  db:add-missing-indices                 Add missing indices to the database tables</span><br><span class="line">  db:add-missing-primary-keys            Add missing primary keys to the database tables</span><br><span class="line">  db:convert-filecache-bigint            Convert the ID columns of the filecache to BigInt</span><br><span class="line">  db:convert-mysql-charset               Convert charset of MySQL/MariaDB to use utf8mb4</span><br><span class="line">  db:convert-type                        Convert the Nextcloud database to the newly configured one</span><br><span class="line"> encryption</span><br><span class="line">  encryption:change-key-storage-root     Change key storage root</span><br><span class="line">  encryption:decrypt-all                 Disable server-side encryption and decrypt all files</span><br><span class="line">  encryption:disable                     Disable encryption</span><br><span class="line">  encryption:enable                      Enable encryption</span><br><span class="line">  encryption:encrypt-all                 Encrypt all files for all users</span><br><span class="line">  encryption:list-modules                List all available encryption modules</span><br><span class="line">  encryption:migrate-key-storage-format  Migrate the format of the keystorage to a newer format</span><br><span class="line">  encryption:set-default-module          Set the encryption default module</span><br><span class="line">  encryption:show-key-storage-root       Show current key storage root</span><br><span class="line">  encryption:status                      Lists the current status of encryption</span><br><span class="line"> federation</span><br><span class="line">  federation:sync-addressbooks           Synchronizes addressbooks of all federated clouds</span><br><span class="line"> files</span><br><span class="line">  files:cleanup                          cleanup filecache</span><br><span class="line">  files:recommendations:recommend        </span><br><span class="line">  files:repair-tree                      Try and repair malformed filesystem tree structures</span><br><span class="line">  files:scan                             rescan filesystem</span><br><span class="line">  files:scan-app-data                    rescan the AppData folder</span><br><span class="line">  files:transfer-ownership               All files and folders are moved to another user - outgoing shares and incoming user file shares (optionally) are moved as well.</span><br><span class="line"> files_external</span><br><span class="line">  files_external:applicable              Manage applicable users and groups for a mount</span><br><span class="line">  files_external:backends                Show available authentication and storage backends</span><br><span class="line">  files_external:config                  Manage backend configuration for a mount</span><br><span class="line">  files_external:create                  Create a new mount configuration</span><br><span class="line">  files_external:delete                  Delete an external mount</span><br><span class="line">  files_external:export                  Export mount configurations</span><br><span class="line">  files_external:import                  Import mount configurations</span><br><span class="line">  files_external:list                    List configured admin or personal mounts</span><br><span class="line">  files_external:notify                  Listen for active update notifications for a configured external mount</span><br><span class="line">  files_external:option                  Manage mount options for a mount</span><br><span class="line">  files_external:verify                  Verify mount configuration</span><br><span class="line"> group</span><br><span class="line">  group:add                              Add a group</span><br><span class="line">  group:adduser                          add a user to a group</span><br><span class="line">  group:delete                           Remove a group</span><br><span class="line">  group:info                             Show information about a group</span><br><span class="line">  group:list                             list configured groups</span><br><span class="line">  group:removeuser                       remove a user from a group</span><br><span class="line"> integrity</span><br><span class="line">  integrity:check-app                    Check integrity of an app using a signature.</span><br><span class="line">  integrity:check-core                   Check integrity of core code using a signature.</span><br><span class="line">  integrity:sign-app                     Signs an app using a private key.</span><br><span class="line">  integrity:sign-core                    Sign core using a private key.</span><br><span class="line"> l10n</span><br><span class="line">  l10n:createjs                          Create javascript translation files for a given app</span><br><span class="line"> log</span><br><span class="line">  log:file                               manipulate logging backend</span><br><span class="line">  log:manage                             manage logging configuration</span><br><span class="line">  log:tail                               Tail the nextcloud logfile</span><br><span class="line">  log:watch                              Watch the nextcloud logfile</span><br><span class="line"> maintenance</span><br><span class="line">  maintenance:data-fingerprint           update the systems data-fingerprint after a backup is restored</span><br><span class="line">  maintenance:mimetype:update-db         Update database mimetypes and update filecache</span><br><span class="line">  maintenance:mimetype:update-js         Update mimetypelist.js</span><br><span class="line">  maintenance:mode                       set maintenance mode</span><br><span class="line">  maintenance:repair                     repair this installation</span><br><span class="line">  maintenance:repair-share-owner         repair invalid share-owner entries in the database</span><br><span class="line">  maintenance:theme:update               Apply custom theme changes</span><br><span class="line">  maintenance:update:htaccess            Updates the .htaccess file</span><br><span class="line"> notification</span><br><span class="line">  notification:generate                  Generate a notification for the given user</span><br><span class="line">  notification:test-push                 Generate a notification for the given user</span><br><span class="line"> preview</span><br><span class="line">  preview:repair                         distributes the existing previews into subfolders</span><br><span class="line">  preview:reset-rendered-texts           Deletes all generated avatars and previews of text and md files</span><br><span class="line"> security</span><br><span class="line">  security:bruteforce:reset              resets bruteforce attemps for given IP address</span><br><span class="line">  security:certificates                  list trusted certificates</span><br><span class="line">  security:certificates:import           import trusted certificate in PEM format</span><br><span class="line">  security:certificates:remove           remove trusted certificate</span><br><span class="line"> serverinfo</span><br><span class="line">  serverinfo:update-storage-statistics   Triggers an update of the counts related to storages used in serverinfo</span><br><span class="line"> sharing</span><br><span class="line">  sharing:cleanup-remote-storages        Cleanup shared storage entries that have no matching entry in the shares_external table</span><br><span class="line">  sharing:expiration-notification        Notify share initiators when a share will expire the next day.</span><br><span class="line"> support</span><br><span class="line">  support:report                         Generate a system report</span><br><span class="line"> tag</span><br><span class="line">  tag:add                                Add new tag</span><br><span class="line">  tag:delete                             delete a tag</span><br><span class="line">  tag:edit                               edit tag attributes</span><br><span class="line">  tag:list                               list tags</span><br><span class="line"> text</span><br><span class="line">  text:reset                             Reset a text document</span><br><span class="line"> theming</span><br><span class="line">  theming:config                         Set theming app config values</span><br><span class="line"> trashbin</span><br><span class="line">  trashbin:cleanup                       Remove deleted files</span><br><span class="line">  trashbin:expire                        Expires the users trashbin</span><br><span class="line">  trashbin:restore                       Restore all deleted files</span><br><span class="line">  trashbin:size                          Configure the target trashbin size</span><br><span class="line"> twofactorauth</span><br><span class="line">  twofactorauth:cleanup                  Clean up the two-factor user-provider association of an uninstalled/removed provider</span><br><span class="line">  twofactorauth:disable                  Disable two-factor authentication for a user</span><br><span class="line">  twofactorauth:enable                   Enable two-factor authentication for a user</span><br><span class="line">  twofactorauth:enforce                  Enabled/disable enforced two-factor authentication</span><br><span class="line">  twofactorauth:state                    Get the two-factor authentication (2FA) state of a user</span><br><span class="line"> update</span><br><span class="line">  update:check                           Check for server and app updates</span><br><span class="line"> user</span><br><span class="line">  user:add                               adds a user</span><br><span class="line">  user:add-app-password                  Add app password for the named user</span><br><span class="line">  user:delete                            deletes the specified user</span><br><span class="line">  user:disable                           disables the specified user</span><br><span class="line">  user:enable                            enables the specified user</span><br><span class="line">  user:info                              show user info</span><br><span class="line">  user:lastseen                          shows when the user was logged in last time</span><br><span class="line">  user:list                              list configured users</span><br><span class="line">  user:report                            shows how many users have access</span><br><span class="line">  user:resetpassword                     Resets the password of the named user</span><br><span class="line">  user:setting                           Read and modify user settings</span><br><span class="line"> versions</span><br><span class="line">  versions:cleanup                       Delete versions</span><br><span class="line">  versions:expire                        Expires the users file versions</span><br><span class="line"> workflows</span><br><span class="line">  workflows:list                         Lists configured workflows</span><br></pre></td></tr></table></figure>

<p>扫描所有用户文件更新：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u www-data php8.1 /var/www/nextcloud/occ files:scan --all</span><br></pre></td></tr></table></figure>

<p>扫描特定用户文件更新：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u www-data php8.1 /var/www/nextcloud/occ files:scan username</span><br></pre></td></tr></table></figure>

<p>扫描特定目录文件更新：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u www-data php8.1 /var/www/nextcloud/occ files:scan --path=/path/to/scan</span><br></pre></td></tr></table></figure>

<h2 id="后台服务优化"><a href="#后台服务优化" class="headerlink" title="后台服务优化"></a>后台服务优化</h2><p>后台服务有三种方式：AJAX，Webcron，Cron</p>
<p>systemd</p>
<p>If systemd is installed on the system, a systemd timer could be an alternative to a cronjob.</p>
<p>This approach requires two files: <code>nextcloudcron.service</code> and <code>nextcloudcron.timer</code>. Create these two files in <code>/etc/systemd/system/</code>.</p>
<p><strong>nextcloudcron.service</strong> should look like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Nextcloud cron.php job</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=www-data</span><br><span class="line">ExecStart=/usr/bin/php -f /var/www/nextcloud/cron.php</span><br><span class="line">KillMode=process</span><br></pre></td></tr></table></figure>

<p>Replace the user <code>www-data</code> with the user of your http server and <code>/var/www/nextcloud/cron.php</code> with the location of <code>cron.php</code> in your nextcloud directory.</p>
<p>The <code>KillMode=process</code> setting is necessary for external programs that are started by the cron job to keep running after the cron job has finished.</p>
<p>Note that the <strong>.service</strong> unit file does not need an <code>[Install]</code> section. Please check your setup because we recommended it in earlier versions of this admin manual.</p>
<p><strong>nextcloudcron.timer</strong> should look like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Run Nextcloud cron.php every 5 minutes</span><br><span class="line"></span><br><span class="line">[Timer]</span><br><span class="line">OnBootSec=5min</span><br><span class="line">OnUnitActiveSec=5min</span><br><span class="line">Unit=nextcloudcron.service</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=timers.target</span><br></pre></td></tr></table></figure>

<p>The important parts in the timer-unit are <code>OnBootSec</code> and <code>OnUnitActiveSec</code>. <code>OnBootSec</code> will start the timer 5 minutes after boot, otherwise you would have to start it manually after every boot. <code>OnUnitActiveSec</code> will set a 5 minute timer after the service-unit was last activated.</p>
<p>Now all that is left is to start and enable the timer by running this command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable --now nextcloudcron.timer</span><br></pre></td></tr></table></figure>

<p>When the option <code>--now</code> is used with <code>enable</code>, the respective unit will also be started.</p>
<h2 id="客户端下载"><a href="#客户端下载" class="headerlink" title="客户端下载"></a>客户端下载</h2><p>直接从这里下载<a target="_blank" rel="noopener" href="https://download.nextcloud.com/desktop/releases/">https://download.nextcloud.com/desktop/releases/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-14T04:10:00.000Z" title="2023/8/14 12:10:00">2023-08-14</time>发表</span><span class="level-item"><time dateTime="2023-08-21T14:08:46.000Z" title="2023/8/21 22:08:46">2023-08-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">11 分钟读完 (大约1719个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/14/windows-office-kms/">Microsoft Office及Windows的KMS激活步骤</a></h1><div class="content"><h2 id="Docker-部署KMS-服务器"><a href="#Docker-部署KMS-服务器" class="headerlink" title="Docker 部署KMS 服务器"></a>Docker 部署KMS 服务器</h2><p>Docker镜像地址： <a target="_blank" rel="noopener" href="https://hub.docker.com/r/mogeko/vlmcsd">https://hub.docker.com/r/mogeko/vlmcsd</a></p>
<p>此程序的单独地址： <a target="_blank" rel="noopener" href="https://github.com/Wind4/vlmcsd">https://github.com/Wind4/vlmcsd</a></p>
<p>部署KMS服务器，使用Docker ，端口为 1688。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># docker run -d -p 1688:1688 --restart=always --name vlmcsd mikolatero/vlmcsd</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker logs vlmcsd</span><br><span class="line"></span><br><span class="line">2019-07-27 08:14:00: Listening on [::]:1688</span><br><span class="line"></span><br><span class="line">2019-07-27 08:14:00: Listening on 0.0.0.0:1688</span><br><span class="line"></span><br><span class="line">2019-07-27 08:14:00: vlmcsd svn1112-2-gf1a3c7f, built 2019-07-26 18:11:51 UTC started successfully</span><br></pre></td></tr></table></figure>

<p>查看日志，确定正常工作。</p>
<h2 id="Microsoft-Office-KMS激活步骤："><a href="#Microsoft-Office-KMS激活步骤：" class="headerlink" title="Microsoft Office KMS激活步骤："></a>Microsoft Office KMS激活步骤：</h2><ol>
<li>以管理员用户打开命令行工具；</li>
<li>切换到office的安装目录，例如office2016安装路径为<code>C:\\Program Files\\Microsoft Office\\Office16</code>；</li>
<li>设置kms服务器：<code>cscript ospp.vbs /sethst:[kms.03k.org](http://kms.03k.org)</code>，返回信息；</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---Processing--------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">Successfully applied setting.</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">---Exiting-----------------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>激活office：`cscript ospp.vbs &#x2F;act`。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">---Processing--------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">Installed product key detected - attempting to activate the following product:</span><br><span class="line"></span><br><span class="line">SKU ID: d450596f-894d-49e0-966a-fd39ed4c4c64</span><br><span class="line"></span><br><span class="line">LICENSE NAME: Office 16, Office16ProPlusVL_KMS_Client edition</span><br><span class="line"></span><br><span class="line">LICENSE DESCRIPTION: Office 16, VOLUME_KMSCLIENT channel</span><br><span class="line"></span><br><span class="line">Last 5 characters of installed product key: WFG99</span><br><span class="line"></span><br><span class="line">&lt;Product activation successful&gt;</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">---Exiting-----------------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Microsoft-Windows-KMS激活步骤："><a href="#Microsoft-Windows-KMS激活步骤：" class="headerlink" title="Microsoft Windows KMS激活步骤："></a>Microsoft Windows KMS激活步骤：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 卸载已安装密钥</span><br><span class="line">slmgr.vbs /upk</span><br><span class="line"></span><br><span class="line"># 安装需要激活的版本密钥</span><br><span class="line"># 这里以专业版为例，Windows 10 和 11 通用</span><br><span class="line"># 更多版本的系统密钥见下文</span><br><span class="line">slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX</span><br><span class="line"></span><br><span class="line"># 设置 KMS 激活服务器</span><br><span class="line"># 请将 192.168.7.186 替换为实际 KMS 服务器网址或 IP</span><br><span class="line">slmgr /skms 192.168.7.186</span><br><span class="line"></span><br><span class="line"># 激活</span><br><span class="line">slmgr /ato</span><br></pre></td></tr></table></figure>


<h2 id="所有WINDOWS版本的GVLK密钥对照表"><a href="#所有WINDOWS版本的GVLK密钥对照表" class="headerlink" title="所有WINDOWS版本的GVLK密钥对照表"></a>所有WINDOWS版本的GVLK密钥对照表</h2><p>最新的参看<a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/get-started/kms-client-activation-keys">微软官方网站</a></p>
<p>GVLK密钥是专门用于KMS激活的密钥，如果想使用KMS激活，那么必须先将系统的KEY替换为对应版本的GVLK密钥。</p>
<p>KMS不仅可以激活Windows 8、Windows 8.1和Windows 7、Windows 10这类我们常用的系统，还可以激活各种版本的Windows Server系统。</p>
<p>以下是GVLK密钥版本对照表，可配合KMS服务器进行使用。</p>
<h3 id="WINDOWS-SERVER-半年频道版本"><a href="#WINDOWS-SERVER-半年频道版本" class="headerlink" title="WINDOWS SERVER 半年频道版本"></a>WINDOWS SERVER 半年频道版本</h3><h4 id="Windows-Server-版本-1909、版本1903-和版本-1809"><a href="#Windows-Server-版本-1909、版本1903-和版本-1809" class="headerlink" title="Windows Server 版本 1909、版本1903 和版本 1809"></a>Windows Server 版本 1909、版本1903 和版本 1809</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server Datacenter</td>
<td>6NMRW-2C8FM-D24W7-TQWMY-CWH2D</td>
</tr>
<tr>
<td>Windows Server Standard</td>
<td>N2KJX-J94YW-TQVFB-DG9YT-724CC</td>
</tr>
</tbody></table>
<h3 id="WINDOWS-SERVER-LTSC-x2F-LTSB-版本"><a href="#WINDOWS-SERVER-LTSC-x2F-LTSB-版本" class="headerlink" title="WINDOWS SERVER LTSC&#x2F;LTSB 版本"></a>WINDOWS SERVER LTSC&#x2F;LTSB 版本</h3><h4 id="Windows-Server-2019"><a href="#Windows-Server-2019" class="headerlink" title="Windows Server 2019"></a>Windows Server 2019</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2019 Datacenter</td>
<td>WMDGN-G9PQG-XVVXX-R3X43-63DFG</td>
</tr>
<tr>
<td>Windows Server 2019 Standard</td>
<td>N69G4-B89J2-4G8F4-WWYCC-J464C</td>
</tr>
<tr>
<td>Windows Server 2019 Essentials</td>
<td>WVDHN-86M7X-466P6-VHXV7-YY726</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2016"><a href="#Windows-Server-2016" class="headerlink" title="Windows Server 2016"></a>Windows Server 2016</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2016 Datacenter</td>
<td>CB7KF-BWN84-R7R2Y-793K2-8XDDG</td>
</tr>
<tr>
<td>Windows Server 2016 Standard</td>
<td>WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY</td>
</tr>
<tr>
<td>Windows Server 2016 Essentials</td>
<td>JCKRF-N37P4-C2D82-9YXRT-4M63B</td>
</tr>
</tbody></table>
<h3 id="WINDOWS-10，所有支持的半年频道版本"><a href="#WINDOWS-10，所有支持的半年频道版本" class="headerlink" title="WINDOWS 10，所有支持的半年频道版本"></a>WINDOWS 10，所有支持的半年频道版本</h3><p>有关受支持的版本和服务终止日期的信息，请参阅 Windows 生命周期情况说明书。</p>
<table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 专业版</td>
<td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td>
</tr>
<tr>
<td>Windows 10 专业版 N</td>
<td>MH37W-N47XK-V7XM9-C7227-GCQG9</td>
</tr>
<tr>
<td>Windows 10 专业工作站版</td>
<td>NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J</td>
</tr>
<tr>
<td>Windows 10 专业工作站版 N</td>
<td>9FNHH-K3HBT-3W4TD-6383H-6XYWF</td>
</tr>
<tr>
<td>Windows 10 专业教育版</td>
<td>6TP4R-GNPTD-KYYHQ-7B7DP-J447Y</td>
</tr>
<tr>
<td>Windows 10 专业教育版 N</td>
<td>YVWGF-BXNMC-HTQYQ-CPQ99-66QFC</td>
</tr>
<tr>
<td>Windows 10 教育版</td>
<td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td>
</tr>
<tr>
<td>Windows 10 教育版 N</td>
<td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td>
</tr>
<tr>
<td>Windows 10 企业版</td>
<td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td>
</tr>
<tr>
<td>Windows 10 企业版 N</td>
<td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td>
</tr>
<tr>
<td>Windows 10 企业版 G</td>
<td>YYVX9-NTFWV-6MDM3-9PT4T-4M68B</td>
</tr>
<tr>
<td>Windows 10 企业版 G N</td>
<td>44RPN-FTY23-9VTTB-MP9BX-T84FV</td>
</tr>
</tbody></table>
<h3 id="WINDOWS-10-LTSC-x2F-LTSB-版本"><a href="#WINDOWS-10-LTSC-x2F-LTSB-版本" class="headerlink" title="WINDOWS 10 LTSC&#x2F;LTSB 版本"></a>WINDOWS 10 LTSC&#x2F;LTSB 版本</h3><h4 id="Windows-10-LTSC-2019"><a href="#Windows-10-LTSC-2019" class="headerlink" title="Windows 10 LTSC 2019"></a>Windows 10 LTSC 2019</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 企业版 LTSC 2019</td>
<td>M7XTQ-FN8P6-TTKYV-9D4CC-J462D</td>
</tr>
<tr>
<td>Windows 10 企业版 N LTSC 2019</td>
<td>92NFX-8DJQP-P6BBQ-THF9C-7CG2H</td>
</tr>
</tbody></table>
<h4 id="Windows-10-LTSB-2016"><a href="#Windows-10-LTSB-2016" class="headerlink" title="Windows 10 LTSB 2016"></a>Windows 10 LTSB 2016</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 企业版 LTSB 2016</td>
<td>DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ</td>
</tr>
<tr>
<td>Windows 10 企业版 N LTSB 2016</td>
<td>QFFDN-GRT3P-VKWWX-X7T3R-8B639</td>
</tr>
</tbody></table>
<h4 id="Windows-10-LTSB-2015"><a href="#Windows-10-LTSB-2015" class="headerlink" title="Windows 10 LTSB 2015"></a>Windows 10 LTSB 2015</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 企业版 2015 LTSB</td>
<td>WNMTR-4C88C-JK8YV-HQ7T2-76DF9</td>
</tr>
<tr>
<td>Windows 10 企业版 2015 LTSB N</td>
<td>2F77B-TNFGY-69QQF-B8YKP-D69TJ</td>
</tr>
</tbody></table>
<h3 id="早期版本的-WINDOWS-SERVER"><a href="#早期版本的-WINDOWS-SERVER" class="headerlink" title="早期版本的 WINDOWS SERVER"></a>早期版本的 WINDOWS SERVER</h3><h4 id="Windows-Server-版本-1803"><a href="#Windows-Server-版本-1803" class="headerlink" title="Windows Server 版本 1803"></a>Windows Server 版本 1803</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server Datacenter</td>
<td>2HXDN-KRXHB-GPYC7-YCKFJ-7FVDG</td>
</tr>
<tr>
<td>Windows Server Standard</td>
<td>PTXN8-JFHJM-4WC78-MPCBR-9W4KR</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-版本-1709"><a href="#Windows-Server-版本-1709" class="headerlink" title="Windows Server 版本 1709"></a>Windows Server 版本 1709</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server Datacenter</td>
<td>6Y6KB-N82V8-D8CQV-23MJW-BWTG6</td>
</tr>
<tr>
<td>Windows Server Standard</td>
<td>DPCNP-XQFKJ-BJF7R-FRC8D-GF6G4</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2012-R2"><a href="#Windows-Server-2012-R2" class="headerlink" title="Windows Server 2012 R2"></a>Windows Server 2012 R2</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2012 R2 Server Standard</td>
<td>D2N9P-3P6X9-2R39C-7RTCD-MDVJX</td>
</tr>
<tr>
<td>Windows Server 2012 R2 Datacenter</td>
<td>W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9</td>
</tr>
<tr>
<td>Windows Server 2012 R2 Essentials</td>
<td>KNC87-3J2TX-XB4WP-VCPJV-M4FWM</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2012"><a href="#Windows-Server-2012" class="headerlink" title="Windows Server 2012"></a>Windows Server 2012</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2012</td>
<td>BN3D2-R7TKB-3YPBD-8DRP2-27GG4</td>
</tr>
<tr>
<td>Windows Server 2012 N</td>
<td>8N2M2-HWPGY-7PGT9-HGDD8-GVGGY</td>
</tr>
<tr>
<td>Windows Server 2012 单语言版</td>
<td>2WN2H-YGCQR-KFX6K-CD6TF-84YXQ</td>
</tr>
<tr>
<td>Windows Server 2012 特定国家&#x2F;地区版</td>
<td>4K36P-JN4VD-GDC6V-KDT89-DYFKP</td>
</tr>
<tr>
<td>Windows Server 2012 Server 标准版</td>
<td>XC9B7-NBPP2-83J2H-RHMBY-92BT4</td>
</tr>
<tr>
<td>Windows Server 2012 MultiPoint 标准版</td>
<td>HM7DN-YVMH3-46JC3-XYTG7-CYQJJ</td>
</tr>
<tr>
<td>Windows Server 2012 MultiPoint 高级版</td>
<td>XNH6W-2V9GX-RGJ4K-Y8X6F-QGJ2G</td>
</tr>
<tr>
<td>Windows Server 2012 Datacenter</td>
<td>48HP8-DN98B-MYWDG-T2DCC-8W83P</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2008-R2"><a href="#Windows-Server-2008-R2" class="headerlink" title="Windows Server 2008 R2"></a>Windows Server 2008 R2</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2008 R2 Web 版</td>
<td>6TPJF-RBVHG-WBW2R-86QPH-6RTM4</td>
</tr>
<tr>
<td>Windows Server 2008 R2 HPC 版</td>
<td>TT8MH-CG224-D3D7Q-498W2-9QCTX</td>
</tr>
<tr>
<td>Windows Server 2008 R2 标准版</td>
<td>YC6KT-GKW9T-YTKYR-T4X34-R7VHC</td>
</tr>
<tr>
<td>Windows Server 2008 R2 企业版</td>
<td>489J6-VHDMP-X63PK-3K798-CPX3Y</td>
</tr>
<tr>
<td>Windows Server 2008 R2 Datacenter</td>
<td>74YFP-3QFB3-KQT8W-PMXWJ-7M648</td>
</tr>
<tr>
<td>面向基于 Itanium 系统的 Windows Server 2008 R2</td>
<td>GT63C-RJFQ3-4GMB6-BRFB9-CB83V</td>
</tr>
</tbody></table>
<h4 id="Windows-2008-Server"><a href="#Windows-2008-Server" class="headerlink" title="Windows 2008 Server"></a>Windows 2008 Server</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Web Server 2008</td>
<td>WYR28-R7TFJ-3X2YQ-YCY4H-M249D</td>
</tr>
<tr>
<td>Windows Server 2008 标准版</td>
<td>TM24T-X9RMF-VWXK6-X8JC9-BFGM2</td>
</tr>
<tr>
<td>不带 Hyper-V 的 Windows Server 2008 标准版</td>
<td>W7VD6-7JFBR-RX26B-YKQ3Y-6FFFJ</td>
</tr>
<tr>
<td>Windows Server 2008 企业版</td>
<td>YQGMW-MPWTJ-34KDK-48M3W-X4Q6V</td>
</tr>
<tr>
<td>不带 Hyper-V 的 Windows Server 2008 企业版</td>
<td>39BXF-X8Q23-P2WWT-38T2F-G3FPG</td>
</tr>
<tr>
<td>Windows Server 2008 HPC</td>
<td>RCTX3-KWVHP-BR6TB-RB6DM-6X7HP</td>
</tr>
<tr>
<td>Windows Server 2008 Datacenter</td>
<td>7M67G-PC374-GR742-YH8V4-TCBY3</td>
</tr>
<tr>
<td>不带 Hyper-V 的 Windows Server 2008 数据中心版</td>
<td>22XQ2-VRXRG-P8D42-K34TD-G3QQC</td>
</tr>
<tr>
<td>面向基于 Itanium 系统的 Windows Server 2008</td>
<td>4DWFP-JF3DJ-B7DTH-78FJB-PDRHK</td>
</tr>
</tbody></table>
<h3 id="早期版本的-WINDOWS"><a href="#早期版本的-WINDOWS" class="headerlink" title="早期版本的 WINDOWS"></a>早期版本的 WINDOWS</h3><h4 id="Windows-8-1"><a href="#Windows-8-1" class="headerlink" title="Windows 8.1"></a>Windows 8.1</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 8.1 专业版</td>
<td>GCRJD-8NW9H-F2CDX-CCM8D-9D6T9</td>
</tr>
<tr>
<td>Windows 8.1 专业版 N</td>
<td>HMCNV-VVBFX-7HMBH-CTY9B-B4FXY</td>
</tr>
<tr>
<td>Windows 8.1 企业版</td>
<td>MHF9N-XY6XB-WVXMC-BTDCT-MKKG7</td>
</tr>
<tr>
<td>Windows 8.1 企业版 N</td>
<td>TT4HM-HN7YT-62K67-RGRQJ-JFFXW</td>
</tr>
</tbody></table>
<h4 id="Windows-8"><a href="#Windows-8" class="headerlink" title="Windows 8"></a>Windows 8</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 8 专业版</td>
<td>NG4HW-VH26C-733KW-K6F98-J8CK4</td>
</tr>
<tr>
<td>Windows 8 专业版 N</td>
<td>XCVCF-2NXM9-723PB-MHCB7-2RYQQ</td>
</tr>
<tr>
<td>Windows 8 企业版</td>
<td>32JNW-9KQ84-P47T8-D8GGY-CWCK7</td>
</tr>
<tr>
<td>Windows 8 企业版 N</td>
<td>JMNMF-RHW7P-DMY6X-RF3DR-X2BQT</td>
</tr>
</tbody></table>
<h4 id="Windows-7"><a href="#Windows-7" class="headerlink" title="Windows 7"></a>Windows 7</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 7 专业版</td>
<td>FJ82H-XT6CR-J8D7P-XQJJ2-GPDD4</td>
</tr>
<tr>
<td>Windows 7 专业版 N</td>
<td>MRPKT-YTG23-K7D7T-X2JMM-QY7MG</td>
</tr>
<tr>
<td>Windows 7 专业版 E</td>
<td>W82YF-2Q76Y-63HXB-FGJG9-GF7QX</td>
</tr>
<tr>
<td>Windows 7 企业版</td>
<td>33PXH-7Y6KF-2VJC9-XBBR8-HVTHH</td>
</tr>
<tr>
<td>Windows 7 企业版 N</td>
<td>YDRBP-3D83W-TY26F-D46B2-XCKRJ</td>
</tr>
<tr>
<td>Windows 7 企业版 E</td>
<td>C29WB-22CC8-VJ326-GHFJW-H9DH4</td>
</tr>
</tbody></table>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-06T14:23:36.000Z" title="2023/8/6 22:23:36">2023-08-06</time>发表</span><span class="level-item"><time dateTime="2023-08-06T14:24:08.000Z" title="2023/8/6 22:24:08">2023-08-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Qt/">Qt</a></span><span class="level-item">3 分钟读完 (大约398个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/06/Qt/qt-pop-dialog/">Qt实现弹出窗口，点击其他位置消失</a></h1><div class="content"><p>Qt实现弹出窗口，点击其他位置消失</p>
<p>一开始时想的很美好，写button的点击事件，然后在弹窗界面中写eventFilter(QEvent *e)事件</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (event-&gt;<span class="built_in">type</span>() == QEvent::ActivationChange)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(QApplication::<span class="built_in">activeWindow</span>() != <span class="keyword">this</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;<span class="built_in">close</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> QWidget::<span class="built_in">event</span>(event);</span><br></pre></td></tr></table></figure>


<p>但是这样写发现一个问题，当我想实现点击按钮也可以关闭dialog时，不行了，因为EventFilter是第一触发事件，当我点按钮是，判断当前的活动窗口不是dialog，他先关闭，然后触发按钮的点击事件，再打开了dialog。很麻烦。</p>
<p>后来有了解到Qt有一个popup的属性</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info-&gt;<span class="built_in">setWindowFlags</span>(Qt::FramelessWindowHint | Qt::Popup);</span><br></pre></td></tr></table></figure>

<p>这样设置了之后，窗口是无边框且是点击其他位置关闭，但是还是会有上面的问题，没解决。</p>
<p>再后来，在一篇blog中看到了Qt::WA_NoMouseReplay属性<br>机翻一下：用于弹出窗口小部件。指示在弹出小部件关闭时不应重播最近的鼠标按下事件。该标志由小部件的作者设置，并在小部件每次接收到新的鼠标事件时由Qt内核清除。<br>大意就是它会拦截鼠标事件不会传递，专用于弹窗事件。<br>呜呜呜，原来Qt早就搞定了这个事件，找了半天，还是Qt不熟悉。<br>具体使用，在弹出的窗口里重写mousePressEvent(QMouseEvent *e)事件：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InfoDialog::mousePressEvent</span><span class="params">(QMouseEvent *e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">setAttribute</span>(Qt::WA_NoMouseReplay);</span><br><span class="line">    QDialog::<span class="built_in">mousePressEvent</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">上一页</a></div><div class="pagination-next"><a href="/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="胡乱折腾"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">胡乱折腾</p><p class="is-size-6 is-block">生命不息，折腾不止！</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">30</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">12</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/tux0529" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/tux0529"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Qt/"><span class="level-start"><span class="level-item">Qt</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Ubuntu2Nas/"><span class="level-start"><span class="level-item">Ubuntu2Nas</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/macOS/"><span class="level-start"><span class="level-item">macOS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/"><span class="level-start"><span class="level-item">备忘录</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-12-05T02:37:33.000Z">2024-12-05</time></p><p class="title"><a href="/2024/12/05/git-help/">Git常用命令</a></p><p class="categories"><a href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-04T01:33:28.000Z">2024-09-04</time></p><p class="title"><a href="/2024/09/04/%E4%B8%AD%E5%8C%BB%E6%96%B9%E5%89%82%E6%94%B6%E8%97%8F/">中医方剂收藏</a></p><p class="categories"><a href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-02T12:23:25.000Z">2024-08-02</time></p><p class="title"><a href="/2024/08/02/xcode/">Xcode安装多个版本并切换版本</a></p><p class="categories"><a href="/categories/macOS/">macOS</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-06-03T03:41:36.000Z">2024-06-03</time></p><p class="title"><a href="/2024/06/03/exsi-help_%E5%89%AF%E6%9C%AC/">HL-2260D打印机粉盒重置</a></p><p class="categories"><a href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-05-13T14:01:36.000Z">2024-05-13</time></p><p class="title"><a href="/2024/05/13/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%B7%A5%E7%A8%8B%E5%B8%88%E4%B8%BB%E8%A7%82%E9%A2%98%E8%80%83%E7%82%B9/">信息系统管理工程师主观题考点</a></p><p class="categories"><a href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/12/"><span class="level-start"><span class="level-item">十二月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">九月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">八月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">六月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">五月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">十一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">八月 2023</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Nas%E5%B7%A5%E5%85%B7/"><span class="tag">Nas工具</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Qt/"><span class="tag">Qt</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Skills/"><span class="tag">Skills</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VM/"><span class="tag">VM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ffmpeg/"><span class="tag">ffmpeg</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kms%E6%BF%80%E6%B4%BB/"><span class="tag">kms激活</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sublime/"><span class="tag">sublime</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%AD%E5%8C%BB%E6%96%B9%E5%89%82/"><span class="tag">中医方剂</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%89%93%E5%8D%B0%E6%9C%BA/"><span class="tag">打印机</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="胡乱折腾" height="28"></a><p class="is-size-7"><span>&copy; 2025 redtux</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>